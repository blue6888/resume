import{d as F,r as P,c as T,o as q,a as z,b as E,e as u,w as O,v as V,n as H,f as U,t as G}from"./vendor-BK4J4gOZ.js";import{A as J,G as g,C as M,B as W}from"./vendor-pixi-js-DOyIQKv_.js";import{m as L,_ as m}from"./vendor-matter-js-Botu7bl-.js";import{G as Z,T as Y}from"./vendor-tweenjs-BtMkXI7v.js";const X=(h,e)=>{const x=h.__vccOpts||h;for(const[t,s]of e)x[t]=s;return x};(function(h,e){const x=y,t=h();for(;;)try{if(-parseInt(x(408))/1*(parseInt(x(411))/2)+parseInt(x(410))/3+-parseInt(x(409))/4+parseInt(x(403))/5*(parseInt(x(413))/6)+parseInt(x(414))/7*(-parseInt(x(405))/8)+-parseInt(x(412))/9*(parseInt(x(406))/10)+parseInt(x(407))/11===e)break;t.push(t.shift())}catch{t.push(t.shift())}})(C,426855);function y(h,e){const x=C();return y=function(t,s){return t=t-402,x[t]},y(h,e)}function D(){const h=r=>{const l=y,d=r[l(404)]((n,a)=>n+a,0);return r[l(402)](n=>n/d)},e={low:{_10:[8.9,3,1.4,1.1,1,.5,1,1.1,1.4,3,8.9]},middle:{_10:[22,5,2,1.4,.6,.4,.6,1.4,2,5,22]},high:{_10:[76,10,3,.9,.3,.2,.3,.9,3,10,76]}},x={_10:h([1,10,45,120,210,252,210,120,45,10,1])};return{resText:e,probabilities:x,colors:{_10:[1357990,440020,3718648,5195493,9133302,59135,9133302,5195493,3718648,440020,1357990]},shadows:{_10:[1020292,561586,959977,4405450,7153881,42956,7153881,4405450,959977,561586,1020292]}}}const j=new Map([[10,{pins:{rows:12,startY:24,gap:24,pinRadius:4},ballConfig:{radius:6,air:.12}}]]);function C(){const h=["1473456cWiRgG","4pKMzqL","9fssPAs","303078LMHzoH","4730005xGSTJo","map","15UdcYDU","reduce","8bpoMTl","768780QaMAwx","12263339WzbKpS","229549YScTOU","475976Empgbw"];return C=function(){return h},C()}const i=R;function v(){const h=["getProbability","1749COPyPO","style","mouseover","destroy","fill","height","now","low","boxHeight","isNaN","random","positionIterations","popCallback","Runner","circleRadius","level","Composite","createRoundedRect","pinsGfx","app","velocityIterations","delete","Body","startsWith","ballParamsMap","2LXSNpr","getShadow","roundRect","log","ticker","createElement","scale","length","pinParams","createBall","382626rgYjqE","recordCount","dealCollisions","create","min","stroke","devicePixelRatio","8605PNBVIW","gameRes","firstY","listenCollisions","1373292gbalqC","stage","pairs","clear","248pOoUkh","tweenGroup","world","Engine","ball","pinsMatter","ballConfig","recordCallback","#000","getText","Events","row-","setLevel","floor","collisionStart","runner","Ball hit result box ","removeChild","children","width","startY","addChild","gap","remove","172236JbZecZ","1919064rVFMEb","unshift","nextGroup","roundShape","set","680568NNtBZz","circle","entries","maxCount","frictionAir","canvas","init","get","stackBox","timing","start","addXPower","engine","5481kMNidG","run","nonCollideGroup","getChildByLabel","setBallConfig","addRecord","click","rows","update","boxWidth","8552LkVsbL","forEach","resBoxAnimal","radius","createResultBox","ballRadius","label","position","split","tickerFn","text","rotation","angle","resBoxMap","add","findResultArea","mouseout","getBg","reverse","recordArr","10RzZErR","pinAnimal","res-"];return v=function(){return h},v()}(function(h,e){const x=R,t=h();for(;;)try{if(-parseInt(x(288))/1+-parseInt(x(278))/2*(parseInt(x(206))/3)+parseInt(x(303))/4*(parseInt(x(295))/5)+-parseInt(x(201))/6+parseInt(x(219))/7*(-parseInt(x(229))/8)+parseInt(x(299))/9*(-parseInt(x(249))/10)+-parseInt(x(253))/11*(-parseInt(x(200))/12)===e)break;t.push(t.shift())}catch{t.push(t.shift())}})(v,469888);const{colors:K,shadows:Q,resText:N,probabilities:$}=D();function R(h,e){const x=v();return R=function(t,s){return t=t-198,x[t]},R(h,e)}class x0{id=1;[i(211)];[i(272)];[i(218)];[i(305)];[i(318)];width;[i(258)];[i(238)];[i(277)]=new Map;[i(286)]={};[i(221)]=L.Body[i(203)](!0);ballConfig={ballRadius:4,frictionAir:.05};[i(265)];[i(310)];[i(296)];constructor(e){const x=i;this.canvas=document[x(283)]("canvas"),e.appendChild(this.canvas),this.app=new J,this[x(218)]=m[x(306)][x(291)](),this[x(305)]=this[x(218)][x(305)],this[x(318)]=m[x(266)].create(),this[x(218)][x(264)]=10,this[x(218)][x(273)]=10,this[x(218)][x(215)].timeScale=2}async[i(212)](e,x,t){const s=i;this.width=e,this[s(258)]=x,this[s(211)][s(254)].width=e+"px",this[s(211)][s(254)][s(258)]=x+"px",this.stackBox[s(236)][s(205)](this.width-45,this[s(258)]/4),this[s(272)].stage[s(324)](this[s(214)]),await this.app.init({canvas:this.canvas,width:e,height:x,background:t,antialias:!0,resolution:window[s(294)]}),m[s(266)][s(220)](this[s(318)],this[s(218)]),this[s(298)]()}[i(223)](e,x){const t=i;this[t(309)]={ballRadius:e,frictionAir:x}}[i(287)](e){const x=i,t=this[x(322)]/2,s=[t,t+this.pinParams.gap],r=[t,t-this[x(286)][x(198)]],l=e[0],d=Math[x(316)](Math[x(263)]()*2),_=l==="R"?s[d]:r[d],n=L.Bodies[x(207)](_,0,this.ballConfig[x(234)],{id:this.id++,label:x(307),mass:1,restitution:0,friction:0,frictionAir:this[x(309)][x(210)],collisionFilter:{group:this[x(221)]}}),a=new g().circle(0,0,this.ballConfig[x(234)]).fill(16733525);a[x(236)][x(205)](n[x(236)].x,n[x(236)].y),m[x(269)][x(243)](this[x(305)],n),this[x(272)][x(300)][x(324)](a);const c=()=>{const f=x;a[f(236)][f(205)](n.position.x,n[f(236)].y),a[f(240)]=n[f(241)];const p=(this[f(286)].rows-2)*this[f(286)][f(198)]+this[f(286)][f(198)]/2;n.position.y>p&&(this[f(244)](n[f(236)].x),m[f(269)][f(199)](this[f(305)],n),a[f(256)](),this[f(272)][f(282)][f(199)](c),this.ballParamsMap[f(274)](n.id))};this[x(272)][x(282)][x(243)](c);const o={path:e,start:d,fir:l};this.ballParamsMap[x(205)](n.id,o)}[i(308)]=[];pinsGfx=[];createPinsAndResultBoxes(e){const x=i;this.clearPinsAndRes(),this[x(286)]=e;const{rows:t,startY:s,gap:r,pinRadius:l}=e;for(let d=2;d<t;d++){const _=d+1,n=(_-1)*r,a=this[x(322)]/2-n/2;for(let c=0;c<_;c++){const o=a+c*r,f=s+(d-2)*r,p=L.Bodies.circle(o,f,l,{isStatic:!0,label:x(314)+(d-1)+"-"+c}),b=new g()[x(207)](0,0,l)[x(257)](16777215);b.x=o,b.y=f,this[x(308)].push(p),this[x(271)].push(b),m[x(269)].add(this.world,p),this[x(272)][x(300)].addChild(b)}}this[x(233)]()}[i(290)](e){const x=i,{bodyA:t,bodyB:s}=e,r=t.label===x(307)?t:s[x(235)]==="ball"?s:null,l=t.label.startsWith(x(314))?t[x(235)]:s[x(235)][x(276)](x(314))?s[x(235)]:null,d=t[x(235)][x(276)](x(314))?t:s.label[x(276)](x(314))?s:null;if(d&&this.pinAnimal(d),!r||!l)return;const _=r.id,n=Number.parseInt(l[x(237)]("-")[1],10),a=this[x(277)][x(213)](_);if(!a)return;const{path:c,start:o,fir:f}=a;if(!c||!f||Number[x(262)](n))return;if(n===1){const b=f==="R"?o===0?1:-1:o===0?-1.2:1.2;this[x(217)](r,b);return}const p=c[n-1];p==="R"?this.addXPower(r,1.2):p==="L"&&this[x(217)](r,-1.2)}[i(242)]=new Map;[i(268)]=i(260);async[i(233)](){const e=i,x=this[e(286)].gap,t=x-2,s=this.pinParams[e(226)]-1,r=s-2,l=this[e(286)][e(323)]+r*x+x/2,d=this[e(322)]/2-s*x/2,_=this.pinParams[e(226)]-2;for(let n=0;n<s;n++){const a=d+n*x+1,c=new M({label:e(251)+n,interactive:!0}),o=new g()[e(280)](0,0,t,14,2)[e(257)]({color:this[e(246)](_,n)}),f=new g()[e(280)](0,0,t,16,2).fill({color:this[e(279)](_,n)});f.position[e(205)](0,0);const p=this.getText(this[e(268)],_,n)||0,b=new W({label:"res-text-"+n,text:p+`
x`,style:{fontSize:14,fill:e(311),align:"center"},anchor:.5});b[e(236)].set(t/2,8),b[e(284)][e(205)](.4),c[e(324)](f),c[e(324)](o),c[e(324)](b),c[e(236)][e(205)](a,l),this[e(242)][e(205)](n,c),this[e(272)].stage.addChild(c),c.on("mouseover",()=>{const I=e;this[I(265)](!0,this[I(252)](this[I(286)][I(226)]-2,n).toFixed(4))}),c.on("mouseout",()=>{this[e(265)](!1)})}}clearPinsAndRes(){const e=i;for(const x of this.pinsMatter)m[e(269)][e(199)](this[e(305)],x);for(const x of this[e(271)])x[e(256)]();this[e(308)]=[],this[e(271)]=[],this[e(242)].forEach(x=>{x[e(256)]()}),this[e(242)][e(302)](),this[e(297)]=0}[i(217)](e,x){m[i(275)].setVelocity(e,{x,y:0})}[i(246)](e,x){return K["_"+e][x]}getShadow(e,x){return Q["_"+e][x]}[i(312)](e,x,t){return N[e]["_"+x][t]}[i(252)](e,x){return $["_"+e][x]*100}setPopCb(e){const x=i;this[x(265)]=e}setRecordClickCb(e){const x=i;this[x(310)]=e}[i(315)](e){const x=i;if(this[x(268)]=e,!!N[e])for(const[s,r]of this[x(242)]){const l=r[x(222)]("res-text-"+s),d=N[e]["_"+(this[x(286)][x(226)]-2)][s];l[x(239)]=d+`
x`}}[i(244)](e){const x=i;for(const[t,s]of this[x(242)][x(208)]()){const r=s.x,l=s.x+s.width;e>=r&&e<=l&&(this[x(231)](s),console[x(281)](x(319)+t))}}[i(298)](){const e=i;m[e(313)].on(this[e(218)],e(317),x=>{const t=e;for(const s of x[t(301)])this.dealCollisions(s)})}[i(250)](e){const x=i,t=new g;t[x(236)].set(e[x(236)].x,e[x(236)].y),this.app.stage.addChild(t);const s=0,r=10,l=400,d=performance[x(259)](),_=n=>{const a=x,c=n-d,o=Math[a(292)](c/l,1),f=s+(r-s)*o,p=.9*(1-o);t[a(302)]();const b=e[a(267)]??4;t[a(207)](0,0,b*1.2+f)[a(257)]({color:16777215,alpha:p}),o<1?requestAnimationFrame(_):t.destroy()};requestAnimationFrame(_)}[i(297)]=0;[i(231)](e){const x=i,t=e[x(236)].y;this.firstY||(this[x(297)]=t);const s=4,r=150,l=performance[x(259)](),d=_=>{const n=x,a=_-l,c=Math[n(292)](a/r,1);e[n(236)].y=t+s*c,c<1?requestAnimationFrame(d):e[n(236)].y=this[n(297)]};requestAnimationFrame(d)}[i(304)]=new Z;[i(248)]=[];[i(209)]=4;[i(228)]=26;[i(261)]=26;[i(214)]=new M;recordCount=0;setGameRes(e){const x=i;this[x(296)]=e}createRoundedRect(e,x,t){const s=i,r=t?.6:1,l=[{x:0,y:this[s(261)],radius:0},{x:this.boxWidth,y:this[s(261)],radius:0},{x:this[s(228)],y:0,radius:0},{x:0,y:0,radius:0}];return e===0?(l[2][s(232)]=4,l[3][s(232)]=4):e===this.maxCount-1&&(l[0][s(232)]=4,l[1][s(232)]=4),new g({label:String(x)})[s(204)](l,10)[s(257)]({color:x,alpha:r})[s(293)]({width:1,color:0})}[i(224)](e,x){const t=i,s=new M({interactive:!0});s[t(236)].set(0,-this[t(261)]);const r=this[t(270)](this[t(289)],x),l=new W({text:e+"x",style:{fontSize:16,fill:0},scale:.5,anchor:.5});l[t(236)].x=this[t(228)]/2,l[t(236)].y=this[t(261)]/2,s[t(324)](r),s[t(324)](l),this[t(214)][t(324)](s),this[t(248)][t(202)](s);let d;s.on(t(255),()=>{const n=t;d=this[n(270)](this[n(289)],0,!0),s[n(324)](d)}),s.on(t(245),()=>{const n=t;d&&(s.removeChild(d),d?.[n(256)](),d=null)}),s.on(t(225),()=>{const n=t;console.log("显示游戏结果事件"),this[n(310)]&&this[n(310)]()}),this[t(289)]++,this.recordCount===4&&(this[t(289)]=1),this[t(248)][t(230)]((n,a)=>{const c=t,o=a*this[c(261)];if(this[c(248)].length>1){const f=this[c(248)][a],p=f.removeChild(f[c(321)][0]),b=p[c(235)];p[c(256)](),this[c(248)][a][c(324)](this[c(270)](a,Number(b))),this.recordArr[a][c(321)][c(247)]()}new Y(n[c(236)],this[c(304)]).to({y:o},200)[c(216)]()});const _=n=>{const a=t;this[a(304)][a(227)](n.lastTime)};if(this.recordArr[t(285)]>this[t(209)]){const n=this[t(248)].pop();new Y(n.position,this[t(304)]).to({alpha:0},150).onComplete(()=>{const a=t;this[a(272)].ticker[a(199)](_),this[a(214)][a(320)](n),n?.destroy()})[t(216)]()}this[t(272)].ticker.add(_)}}const w=k;(function(h,e){const x=k,t=h();for(;;)try{if(-parseInt(x(523))/1+parseInt(x(536))/2+-parseInt(x(530))/3+-parseInt(x(525))/4*(parseInt(x(532))/5)+-parseInt(x(499))/6+-parseInt(x(504))/7+parseInt(x(534))/8===e)break;t.push(t.shift())}catch{t.push(t.shift())}})(A,419705);const e0={class:w(493)},t0={class:"relative"},s0={class:"input-wrap"},a0=[w(520)],i0={class:"hint-row"},n0={key:0,id:w(521),class:w(495)},c0={class:w(533)},o0={class:w(515)},r0=[w(519)];function k(h,e){const x=A();return k=function(t,s){return t=t-491,x[t]},k(h,e)}function A(){const h=["button","ballConfig","start-btn","text","w-full flex justify-center items-center","input","2 秒允许点击一次","span","disabled","aria-invalid","path-help","target","482702fLMzZk","split","104088cPofHy","toUpperCase","label","例如：LRRLLRLR","get","1395216hBaoJY"," 开始游戏 ","35huoeIh","counter","10566856OyJsWq","请输入 10 位路径，仅允许 L 或 R","1405094NymLWN"," 位，请填写 10 位","slice","AppPlinko","div","/10","createBall","value","test","relative","false","help","投球路径（10 位，仅 L/R）","init","input-control","2167092lUWxVP","setBallConfig","off","path","length","788123mHhkWR","air","#1e1e1e","pins","container","仅允许填写字符 L 或 R","当前 "];return A=function(){return h},A()}const f0=10,l0=F({__name:w(539),setup(h){const e=w,x=P(null);let t;const s=P(""),r=T(()=>/^[LR]{10}$/[e(492)](s.value)),l=P(!1),d=T(()=>{const a=e;return s[a(491)]?/[^LR]/[a(492)](s[a(491)])?a(509):s[a(491)][a(503)]!==10?a(510)+s[a(491)].length+a(537):"":a(535)});function _(a){const c=e,o=a[c(522)],f=o[c(491)][c(526)]().replace(/[^LR]/g,"")[c(538)](0,10);s[c(491)]=f}async function n(){const a=e;if(!r[a(491)]||l[a(491)]||!t)return;l[a(491)]=!0;const c=s[a(491)][a(524)]("");t[a(542)](c),setTimeout(()=>l.value=!1,400)}return q(async()=>{const a=e,c=j[a(529)](10);x.value&&(t=new x0(x[a(491)]),await t[a(497)](300,276,a(506)),await t.createPinsAndResultBoxes(c?.[a(507)]??{rows:12,startY:24,gap:24,pinRadius:4}),t[a(500)](c?.[a(512)].radius,c?.[a(512)][a(505)]))}),(a,c)=>{const o=e;return E(),z(o(540),e0,[u(o(540),t0,[u(o(540),{ref_key:o(508),ref:x,class:"container"},null,512)]),u("div",s0,[c[1]||(c[1]=u(o(527),{class:o(527),for:o(502)},o(496),-1)),O(u(o(516),{id:o(502),class:H([o(498),{invalid:!r[o(491)]&&s[o(491)]}]),type:o(514),"onUpdate:modelValue":c[0]||(c[0]=f=>s[o(491)]=f),maxlength:f0,placeholder:o(528),onInput:_,autocomplete:o(501),autocapitalize:"characters",spellcheck:o(494),"aria-describedby":o(521),"aria-invalid":!r[o(491)]},null,42,a0),[[V,s.value]]),u("div",i0,[d[o(491)]?(E(),z(o(518),n0,G(d[o(491)]),1)):U("",!0),u("span",c0,G(s[o(491)][o(503)])+o(541),1)])]),u(o(540),o0,[u(o(511),{class:o(513),disabled:!r[o(491)]||l[o(491)],onClick:n,title:o(517)},o(531),8,r0)])])}}});function B(){var h=["1258008ulphZY","8uxxQOz","690285DNBWXg","37422HhTAHo","4026990zKzAFI","162mpSESp","864550FwbCJO","2378547hJkCpE","919831WnjPRe","2NEzlCb","10pXkwYT"];return B=function(){return h},B()}(function(h,e){for(var x=S,t=h();;)try{var s=-parseInt(x(113))/1*(-parseInt(x(110))/2)+-parseInt(x(106))/3+parseInt(x(104))/4+-parseInt(x(108))/5+-parseInt(x(109))/6*(-parseInt(x(107))/7)+-parseInt(x(105))/8*(-parseInt(x(111))/9)+parseInt(x(103))/10*(-parseInt(x(112))/11);if(s===e)break;t.push(t.shift())}catch{t.push(t.shift())}})(B,468563);function S(h,e){var x=B();return S=function(t,s){t=t-103;var r=x[t];return r},S(h,e)}const b0=X(l0,[["__scopeId","data-v-cb23dd70"]]);export{b0 as A,X as _};
