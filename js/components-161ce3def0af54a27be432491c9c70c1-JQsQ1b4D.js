import{d as F,r as L,c as Y,o as U,a as E,b as S,e as m,w as J,v as W,n as z,f as D,t as q}from"./vendor-q4_JwtHI.js";import{A as O,G as I,C as P,B as H}from"./vendor-pixi-js-CqIIzDVx.js";import{_ as w,m as G}from"./vendor-matter-js-BQ72DKUX.js";import{G as X,T as V}from"./vendor-tweenjs-BtMkXI7v.js";const Q=(h,t)=>{const x=h.__vccOpts||h;for(const[e,s]of t)x[e]=s;return x};function g(){const h=["310761vYtdIv","12YEYvBk","1169585KPtgqJ","reduce","91504hJUpGw","6rXnZqE","8xMlQRv","688062IdFyJv","3126849JkUkLi","20HyOHgO","915672YlLNdb","203pioNTA","64472WXNiCT"];return g=function(){return h},g()}(function(h,t){const x=y,e=h();for(;;)try{if(-parseInt(x(249))/1+parseInt(x(255))/2+-parseInt(x(252))/3*(parseInt(x(251))/4)+-parseInt(x(247))/5*(parseInt(x(250))/6)+-parseInt(x(256))/7*(-parseInt(x(257))/8)+-parseInt(x(258))/9*(-parseInt(x(254))/10)+-parseInt(x(253))/11*(-parseInt(x(259))/12)===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(g,260735);function Z(){const h=c=>{const d=y,f=c[d(248)]((i,a)=>i+a,0);return c.map(i=>i/f)},t={low:{_10:[8.9,3,1.4,1.1,1,.5,1,1.1,1.4,3,8.9]},middle:{_10:[22,5,2,1.4,.6,.4,.6,1.4,2,5,22]},high:{_10:[76,10,3,.9,.3,.2,.3,.9,3,10,76]}},x={_10:h([1,10,45,120,210,252,210,120,45,10,1])};return{resText:t,probabilities:x,colors:{_10:[1357990,440020,3718648,5195493,9133302,59135,9133302,5195493,3718648,440020,1357990]},shadows:{_10:[1020292,561586,959977,4405450,7153881,42956,7153881,4405450,959977,561586,1020292]}}}function y(h,t){const x=g();return y=function(e,s){return e=e-247,x[e]},y(h,t)}const j=new Map([[10,{pins:{rows:12,startY:24,gap:24,pinRadius:4},ballConfig:{radius:6,air:.12}}]]);function v(){const h=["app","timing","level","get","586510YoEHum","update","height","runner","add","pinAnimal","Events","log","pinParams","devicePixelRatio","显示游戏结果事件","stroke","now","floor","clear","appendChild","getShadow","roundRect","onComplete","getBg","length","rotation","maxCount","listenCollisions","width","parseInt","boxWidth","gap","reverse","getProbability","entries","lastTime","remove","3XMmwTL","createResultBox","getChildByLabel","findResultArea","Composite","startsWith","ballConfig","mouseout","setBallConfig","Runner","ticker","setLevel","gameRes","addXPower","1476412AxqNvF","createRoundedRect","res-","init","firstY","ball","popCallback","set","setRecordClickCb","10820ApyrBO","collisionStart","Engine","ballRadius","label","forEach","pinsGfx","position","1030XoLeqs","addChild","row-","recordCount","scale","destroy","engine","res-text-","recordArr","Body","152858VJauav","click","timeScale","nextGroup","create","removeChild","recordCallback","boxHeight","rows","ballParamsMap","setGameRes","resBoxAnimal","stackBox","run","addRecord","fill","style","1051104qQDJMb","dealCollisions","delete","world","min","clearPinsAndRes","setVelocity","getText","children","stage","1826421emMTpH","tweenGroup","angle","2588744YHUdem","nonCollideGroup","createElement","resBoxMap","canvas","pinsMatter","frictionAir","circleRadius","circle","velocityIterations","mouseover","startY","start","90lUmHjM","radius","low"];return v=function(){return h},v()}const n=R;(function(h,t){const x=R,e=h();for(;;)try{if(parseInt(x(609))/1*(parseInt(x(526))/2)+-parseInt(x(553))/3+parseInt(x(508))/4*(parseInt(x(516))/5)+parseInt(x(543))/6+-parseInt(x(499))/7+-parseInt(x(556))/8+parseInt(x(569))/9*(parseInt(x(576))/10)===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(v,404895);const{colors:K,shadows:$,resText:T,probabilities:x0}=Z();function R(h,t){const x=v();return R=function(e,s){return e=e-497,x[e]},R(h,t)}class t0{id=1;canvas;[n(572)];[n(522)];[n(546)];[n(579)];width;height;tickerFn;ballParamsMap=new Map;[n(584)]={};[n(557)]=w[n(525)][n(529)](!0);[n(615)]={ballRadius:4,frictionAir:.05};popCallback;[n(532)];gameRes;constructor(t){const x=n;this[x(560)]=document[x(558)](x(560)),t[x(591)](this[x(560)]),this[x(572)]=new O,this[x(522)]=w[x(510)][x(530)](),this[x(546)]=this[x(522)][x(546)],this[x(579)]=w[x(618)].create(),this.engine.positionIterations=10,this[x(522)][x(565)]=10,this.engine[x(573)][x(528)]=2}async[n(502)](t,x,e){const s=n;this[s(600)]=t,this.height=x,this.canvas[s(542)][s(600)]=t+"px",this.canvas[s(542)][s(578)]=x+"px",this[s(538)][s(515)][s(506)](this[s(600)]-45,this.height/4),this[s(572)][s(552)][s(517)](this[s(538)]),await this[s(572)][s(502)]({canvas:this[s(560)],width:t,height:x,background:e,antialias:!0,resolution:window[s(585)]}),G.Runner[s(539)](this[s(579)],this[s(522)]),this[s(599)]()}[n(617)](t,x){const e=n;this[e(615)]={ballRadius:t,frictionAir:x}}createBall(t){const x=n,e=this.width/2,s=[e,e+this[x(584)][x(603)]],c=[e,e-this[x(584)][x(603)]],d=t[0],f=Math[x(589)](Math.random()*2),_=d==="R"?s[f]:c[f],i=G.Bodies[x(564)](_,0,this.ballConfig[x(511)],{id:this.id++,label:x(504),mass:1,restitution:0,friction:0,frictionAir:this[x(615)][x(562)],collisionFilter:{group:this.nonCollideGroup}}),a=new I()[x(564)](0,0,this.ballConfig[x(511)])[x(541)](16733525);a[x(515)][x(506)](i[x(515)].x,i[x(515)].y),w[x(613)][x(580)](this.world,i),this[x(572)][x(552)][x(517)](a);const r=()=>{const l=x;a[l(515)][l(506)](i[l(515)].x,i[l(515)].y),a[l(597)]=i[l(555)];const p=(this[l(584)][l(534)]-2)*this[l(584)].gap+this[l(584)][l(603)]/2;i[l(515)].y>p&&(this.findResultArea(i.position.x),w[l(613)][l(608)](this[l(546)],i),a[l(521)](),this[l(572)][l(619)][l(608)](r),this[l(535)][l(545)](i.id))};this[x(572)][x(619)][x(580)](r);const o={path:t,start:f,fir:d};this.ballParamsMap[x(506)](i.id,o)}[n(561)]=[];[n(514)]=[];createPinsAndResultBoxes(t){const x=n;this[x(548)](),this.pinParams=t;const{rows:e,startY:s,gap:c,pinRadius:d}=t;for(let f=2;f<e;f++){const _=f+1,i=(_-1)*c,a=this[x(600)]/2-i/2;for(let r=0;r<_;r++){const o=a+r*c,l=s+(f-2)*c,p=G.Bodies[x(564)](o,l,d,{isStatic:!0,label:x(518)+(f-1)+"-"+r}),b=new I().circle(0,0,d)[x(541)](16777215);b.x=o,b.y=l,this.pinsMatter.push(p),this[x(514)].push(b),w[x(613)][x(580)](this.world,p),this[x(572)][x(552)][x(517)](b)}}this[x(610)]()}dealCollisions(t){const x=n,{bodyA:e,bodyB:s}=t,c=e[x(512)]==="ball"?e:s.label===x(504)?s:null,d=e[x(512)][x(614)](x(518))?e.label:s.label[x(614)](x(518))?s.label:null,f=e.label[x(614)](x(518))?e:s[x(512)][x(614)]("row-")?s:null;if(f&&this[x(581)](f),!c||!d)return;const _=c.id,i=Number[x(601)](d.split("-")[1],10),a=this[x(535)][x(575)](_);if(!a)return;const{path:r,start:o,fir:l}=a;if(!r||!l||Number.isNaN(i))return;if(i===1){const b=l==="R"?o===0?1:-1:o===0?-1.2:1.2;this[x(498)](c,b);return}const p=r[i-1];p==="R"?this[x(498)](c,1.2):p==="L"&&this[x(498)](c,-1.2)}resBoxMap=new Map;[n(574)]=n(571);async[n(610)](){const t=n,x=this.pinParams[t(603)],e=x-2,s=this[t(584)].rows-1,c=s-2,d=this.pinParams[t(567)]+c*x+x/2,f=this[t(600)]/2-s*x/2,_=this[t(584)][t(534)]-2;for(let i=0;i<s;i++){const a=f+i*x+1,r=new P({label:t(501)+i,interactive:!0}),o=new I()[t(593)](0,0,e,14,2)[t(541)]({color:this[t(595)](_,i)}),l=new I()[t(593)](0,0,e,16,2)[t(541)]({color:this[t(592)](_,i)});l[t(515)][t(506)](0,0);const p=this[t(550)](this[t(574)],_,i)||0,b=new H({label:"res-text-"+i,text:p+`
x`,style:{fontSize:14,fill:"#000",align:"center"},anchor:.5});b.position[t(506)](e/2,8),b[t(520)][t(506)](.4),r[t(517)](l),r[t(517)](o),r[t(517)](b),r[t(515)].set(a,d),this.resBoxMap[t(506)](i,r),this[t(572)][t(552)].addChild(r),r.on(t(566),()=>{const M=t;this[M(505)](!0,this[M(605)](this.pinParams.rows-2,i).toFixed(4))}),r.on(t(616),()=>{this[t(505)](!1)})}}[n(548)](){const t=n;for(const x of this[t(561)])w[t(613)].remove(this.world,x);for(const x of this[t(514)])x.destroy();this[t(561)]=[],this[t(514)]=[],this[t(559)].forEach(x=>{x[t(521)]()}),this.resBoxMap.clear(),this.firstY=0}addXPower(t,x){const e=n;w[e(525)][e(549)](t,{x,y:0})}[n(595)](t,x){return K["_"+t][x]}[n(592)](t,x){return $["_"+t][x]}[n(550)](t,x,e){return T[t]["_"+x][e]}[n(605)](t,x){return x0["_"+t][x]*100}setPopCb(t){this.popCallback=t}[n(507)](t){this.recordCallback=t}[n(620)](t){const x=n;if(this.level=t,!!T[t])for(const[s,c]of this[x(559)]){const d=c[x(611)](x(523)+s),f=T[t]["_"+(this.pinParams.rows-2)][s];d.text=f+`
x`}}[n(612)](t){const x=n;for(const[e,s]of this[x(559)][x(606)]()){const c=s.x,d=s.x+s[x(600)];t>=c&&t<=d&&(this[x(537)](s),console[x(583)]("Ball hit result box "+e))}}[n(599)](){const t=n;w[t(582)].on(this[t(522)],t(509),x=>{const e=t;for(const s of x.pairs)this[e(544)](s)})}[n(581)](t){const x=n,e=new I;e[x(515)][x(506)](t[x(515)].x,t.position.y),this.app[x(552)][x(517)](e);const s=0,c=10,d=400,f=performance[x(588)](),_=i=>{const a=x,r=i-f,o=Math[a(547)](r/d,1),l=s+(c-s)*o,p=.9*(1-o);e[a(590)]();const b=t[a(563)]??4;e.circle(0,0,b*1.2+l)[a(541)]({color:16777215,alpha:p}),o<1?requestAnimationFrame(_):e.destroy()};requestAnimationFrame(_)}[n(503)]=0;[n(537)](t){const x=n,e=t[x(515)].y;this[x(503)]||(this[x(503)]=e);const s=4,c=150,d=performance[x(588)](),f=_=>{const i=x,a=_-d,r=Math.min(a/c,1);t.position.y=e+s*r,r<1?requestAnimationFrame(f):t[i(515)].y=this[i(503)]};requestAnimationFrame(f)}[n(554)]=new X;[n(524)]=[];[n(598)]=4;boxWidth=26;[n(533)]=26;[n(538)]=new P;[n(519)]=0;[n(536)](t){const x=n;this[x(497)]=t}createRoundedRect(t,x,e){const s=n,c=e?.6:1,d=[{x:0,y:this.boxHeight,radius:0},{x:this[s(602)],y:this[s(533)],radius:0},{x:this[s(602)],y:0,radius:0},{x:0,y:0,radius:0}];return t===0?(d[2][s(570)]=4,d[3][s(570)]=4):t===this[s(598)]-1&&(d[0].radius=4,d[1][s(570)]=4),new I({label:String(x)}).roundShape(d,10)[s(541)]({color:x,alpha:c})[s(587)]({width:1,color:0})}[n(540)](t,x){const e=n,s=new P({interactive:!0});s.position[e(506)](0,-this.boxHeight);const c=this.createRoundedRect(this[e(519)],x),d=new H({text:t+"x",style:{fontSize:16,fill:0},scale:.5,anchor:.5});d[e(515)].x=this.boxWidth/2,d[e(515)].y=this[e(533)]/2,s.addChild(c),s[e(517)](d),this[e(538)][e(517)](s),this[e(524)].unshift(s);let f;s.on("mouseover",()=>{const i=e;f=this[i(500)](this.recordCount,0,!0),s[i(517)](f)}),s.on(e(616),()=>{const i=e;f&&(s[i(531)](f),f?.destroy(),f=null)}),s.on(e(527),()=>{const i=e;console[i(583)](i(586)),this.recordCallback&&this[i(532)]()}),this[e(519)]++,this[e(519)]===4&&(this[e(519)]=1),this.recordArr[e(513)]((i,a)=>{const r=e,o=a*this.boxHeight;if(this[r(524)][r(596)]>1){const l=this[r(524)][a],p=l[r(531)](l.children[0]),b=p[r(512)];p.destroy(),this.recordArr[a][r(517)](this.createRoundedRect(a,Number(b))),this[r(524)][a][r(551)][r(604)]()}new V(i[r(515)],this[r(554)]).to({y:o},200)[r(568)]()});const _=i=>{const a=e;this.tweenGroup[a(577)](i[a(607)])};if(this.recordArr[e(596)]>this[e(598)]){const i=this[e(524)].pop();new V(i.position,this[e(554)]).to({alpha:0},150)[e(594)](()=>{const a=e;this[a(572)][a(619)][a(608)](_),this[a(538)].removeChild(i),i?.[a(521)]()}).start()}this.app[e(619)].add(_)}}const u=C;(function(h,t){const x=C,e=h();for(;;)try{if(-parseInt(x(280))/1*(-parseInt(x(288))/2)+parseInt(x(271))/3*(parseInt(x(308))/4)+-parseInt(x(270))/5*(parseInt(x(307))/6)+-parseInt(x(289))/7*(parseInt(x(264))/8)+parseInt(x(300))/9*(parseInt(x(286))/10)+-parseInt(x(262))/11+parseInt(x(295))/12===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(k,931583);function C(h,t){const x=k();return C=function(e,s){return e=e-259,x[e]},C(h,t)}const e0={class:u(276)},s0={class:u(276)},a0={class:u(306)},i0=[u(309)],n0={class:u(302)},r0={key:0,id:"path-help",class:u(260)},o0={class:u(303)},c0={class:u(294)},l0=[u(296)];function k(){const h=["button","ballConfig","335KIDhWL","9HznZDm","setBallConfig","replace","false","createBall","relative","value","AppPlinko","text","1QryUNR","off","input","init","split","label","523680BsbMTm","pins","2070404SoELBM","14FmSxme","span","投球路径（10 位，仅 L/R）","/10","toUpperCase","w-full flex justify-center items-center","38377908VkEZhG","disabled","length","container","path","54JVpZQe","#1e1e1e","hint-row","counter","2 秒允许点击一次","div","input-wrap","164046MyIVpO","926684bPWbEm","aria-invalid","path-help","help","characters","19489316TgVfzj","例如：LRRLLRLR","2829584LLwvOG","radius","get","test"];return k=function(){return h},k()}const d0=10,f0=F({__name:u(278),setup(h){const t=u,x=L(null);let e;const s=L(""),c=Y(()=>/^[LR]{10}$/[t(267)](s[t(277)])),d=L(!1),f=Y(()=>{const a=t;return s.value?/[^LR]/.test(s[a(277)])?"仅允许填写字符 L 或 R":s[a(277)][a(297)]!==10?"当前 "+s[a(277)][a(297)]+" 位，请填写 10 位":"":"请输入 10 位路径，仅允许 L 或 R"});function _(a){const r=t,o=a.target,l=o[r(277)][r(293)]()[r(273)](/[^LR]/g,"").slice(0,10);s[r(277)]=l}async function i(){const a=t;if(!c[a(277)]||d[a(277)]||!e)return;d[a(277)]=!0;const r=s[a(277)][a(284)]("");e[a(275)](r),setTimeout(()=>d.value=!1,400)}return U(async()=>{const a=t,r=j[a(266)](10);x.value&&(e=new t0(x[a(277)]),await e[a(283)](300,276,a(301)),await e.createPinsAndResultBoxes(r?.[a(287)]??{rows:12,startY:24,gap:24,pinRadius:4}),e[a(272)](r?.[a(269)][a(265)],r?.[a(269)].air))}),(a,r)=>{const o=t;return S(),E(o(305),e0,[m(o(305),s0,[m(o(305),{ref_key:o(298),ref:x,class:o(298)},null,512)]),m(o(305),a0,[r[1]||(r[1]=m(o(285),{class:o(285),for:o(299)},o(291),-1)),J(m(o(282),{id:"path",class:z(["input-control",{invalid:!c[o(277)]&&s[o(277)]}]),type:o(279),"onUpdate:modelValue":r[0]||(r[0]=l=>s[o(277)]=l),maxlength:d0,placeholder:o(263),onInput:_,autocomplete:o(281),autocapitalize:o(261),spellcheck:o(274),"aria-describedby":o(259),"aria-invalid":!c[o(277)]},null,42,i0),[[W,s[o(277)]]]),m("div",n0,[f[o(277)]?(S(),E(o(290),r0,q(f[o(277)]),1)):D("",!0),m("span",o0,q(s.value[o(297)])+o(292),1)])]),m(o(305),c0,[m(o(268),{class:"start-btn",disabled:!c.value||d[o(277)],onClick:i,title:o(304)}," 开始游戏 ",8,l0)])])}}});var N=A;(function(h,t){for(var x=A,e=h();;)try{var s=parseInt(x(193))/1+-parseInt(x(195))/2*(-parseInt(x(187))/3)+-parseInt(x(191))/4*(parseInt(x(181))/5)+-parseInt(x(190))/6*(parseInt(x(183))/7)+parseInt(x(192))/8*(-parseInt(x(188))/9)+parseInt(x(182))/10*(-parseInt(x(185))/11)+parseInt(x(184))/12*(parseInt(x(194))/13);if(s===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(B,340398);function A(h,t){var x=B();return A=function(e,s){e=e-181;var c=x[e];return c},A(h,t)}const u0=Q(f0,[[N(189),N(186)]]);function B(){var h=["12LiCBDL","11UYYfGu","data-v-cb23dd70","417oMnmAt","2038581SqkatP","__scopeId","174wYbrVE","377496hSaIap","8QVmPDc","146184UGJhWU","14813357VagAJW","4042yHHqyO","15gnTqVL","489250GrqpzS","161154nLyiwt"];return B=function(){return h},B()}export{u0 as A,Q as _};
