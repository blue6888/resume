import{d as O,r as M,c as S,o as z,a as E,b as Q,e as m,w as V,v as j,n as q,f as J,t as N}from"./vendor-q4_JwtHI.js";import{A as K,G as g,C as L,B as W}from"./vendor-pixi-js-CqIIzDVx.js";import{_ as w,m as G}from"./vendor-matter-js-BQ72DKUX.js";import{G as H,T as Y}from"./vendor-tweenjs-BtMkXI7v.js";const Z=(h,e)=>{const x=h.__vccOpts||h;for(const[t,s]of e)x[t]=s;return x};(function(h,e){const x=y,t=h();for(;;)try{if(parseInt(x(127))/1*(parseInt(x(136))/2)+-parseInt(x(134))/3+-parseInt(x(125))/4+-parseInt(x(132))/5+-parseInt(x(128))/6*(parseInt(x(126))/7)+parseInt(x(135))/8*(-parseInt(x(131))/9)+parseInt(x(129))/10*(parseInt(x(130))/11)===e)break;t.push(t.shift())}catch{t.push(t.shift())}})(v,690753);function v(){const h=["14TWmQps","843850rNwpOa","2131320oLtAQf","10MMlufK","38594611eUtMRj","144XnQwSC","5324230EljKuS","map","2626329PRdHRa","54400jNpATr","2BOafjc","reduce","3608676lXKzZW"];return v=function(){return h},v()}function D(){const h=r=>{const l=y,f=r[l(137)]((n,i)=>n+i,0);return r[l(133)](n=>n/f)},e={low:{_10:[8.9,3,1.4,1.1,1,.5,1,1.1,1.4,3,8.9]},middle:{_10:[22,5,2,1.4,.6,.4,.6,1.4,2,5,22]},high:{_10:[76,10,3,.9,.3,.2,.3,.9,3,10,76]}},x={_10:h([1,10,45,120,210,252,210,120,45,10,1])};return{resText:e,probabilities:x,colors:{_10:[1357990,440020,3718648,5195493,9133302,59135,9133302,5195493,3718648,440020,1357990]},shadows:{_10:[1020292,561586,959977,4405450,7153881,42956,7153881,4405450,959977,561586,1020292]}}}function y(h,e){const x=v();return y=function(t,s){return t=t-125,x[t]},y(h,e)}const U=new Map([[10,{pins:{rows:12,startY:24,gap:24,pinRadius:4},ballConfig:{radius:6,air:.12}}]]);function R(h,e){const x=C();return R=function(t,s){return t=t-104,x[t]},R(h,e)}const a=R;(function(h,e){const x=R,t=h();for(;;)try{if(parseInt(x(222))/1*(-parseInt(x(219))/2)+parseInt(x(179))/3+parseInt(x(211))/4+parseInt(x(166))/5*(parseInt(x(154))/6)+parseInt(x(157))/7+parseInt(x(206))/8+-parseInt(x(143))/9===e)break;t.push(t.shift())}catch{t.push(t.shift())}})(C,819054);function C(){const h=["init","显示游戏结果事件","Composite","mouseover","low","setLevel","split","center","pinAnimal","11071072uGoFvk","ballParamsMap","clearPinsAndRes","resBoxAnimal","getBg","5895212uGQgqu","floor","addChild","label","frictionAir","timeScale","pinParams","isNaN","28LpQxFL","set","ball","3324nAoYmh","positionIterations","devicePixelRatio","stage","style","now","gameRes","Events","collisionStart","min","fill","destroy","setVelocity","res-text-","getProbability","position","canvas","length","circle","rotation","ballRadius","nonCollideGroup","setPopCb","onComplete","res-","boxWidth","Body","ballConfig","addXPower","boxHeight","height","removeChild","roundShape","Runner","timing","recordArr","ticker","setGameRes","recordCallback","getText","dealCollisions","gap","radius","toFixed","popCallback","add","reverse","53695287reJhYG","startsWith","stroke","pinsGfx","pop","listenCollisions","firstY","start","tickerFn","angle","tweenGroup","6xENIlX","update","remove","10196060dkQQvv","rows","findResultArea","maxCount","getChildByLabel","pairs","Engine","width","scale","6179545fotTxZ","roundRect","Bodies","pinsMatter","entries","setRecordClickCb","recordCount","runner","run","row-","forEach","text","children","3844671tcSEls","world","createElement","log","createResultBox","parseInt","level","engine","velocityIterations","app","resBoxMap","createRoundedRect","stackBox","nextGroup","mouseout","push","getShadow","unshift"];return C=function(){return h},C()}const{colors:X,shadows:$,resText:T,probabilities:x0}=D();class t0{id=1;[a(112)];[a(188)];[a(186)];[a(180)];[a(173)];[a(164)];[a(126)];[a(151)];[a(207)]=new Map;[a(217)]={};[a(117)]=w[a(122)][a(192)](!0);[a(123)]={ballRadius:4,frictionAir:.05};[a(140)];[a(134)];[a(228)];constructor(e){const x=a;this[x(112)]=document[x(181)](x(112)),e.appendChild(this[x(112)]),this[x(188)]=new K,this[x(186)]=w[x(163)].create(),this[x(180)]=this[x(186)][x(180)],this.runner=w[x(129)].create(),this[x(186)][x(223)]=10,this[x(186)][x(187)]=10,this.engine[x(130)][x(216)]=2}async[a(197)](e,x,t){const s=a;this[s(164)]=e,this[s(126)]=x,this[s(112)][s(226)][s(164)]=e+"px",this[s(112)].style.height=x+"px",this.stackBox[s(111)][s(220)](this[s(164)]-45,this[s(126)]/4),this[s(188)][s(225)][s(213)](this[s(191)]),await this[s(188)][s(197)]({canvas:this[s(112)],width:e,height:x,background:t,antialias:!0,resolution:window[s(224)]}),G.Runner[s(174)](this.runner,this[s(186)]),this[s(148)]()}setBallConfig(e,x){const t=a;this[t(123)]={ballRadius:e,frictionAir:x}}createBall(e){const x=a,t=this.width/2,s=[t,t+this.pinParams[x(137)]],r=[t,t-this[x(217)][x(137)]],l=e[0],f=Math[x(212)](Math.random()*2),_=l==="R"?s[f]:r[f],n=w[x(168)][x(114)](_,0,this[x(123)][x(116)],{id:this.id++,label:x(221),mass:1,restitution:0,friction:0,frictionAir:this[x(123)][x(215)],collisionFilter:{group:this[x(117)]}}),i=new g()[x(114)](0,0,this[x(123)][x(116)])[x(106)](16733525);i[x(111)][x(220)](n[x(111)].x,n.position.y),G.Composite[x(141)](this[x(180)],n),this.app.stage[x(213)](i);const c=()=>{const d=x;i[d(111)][d(220)](n.position.x,n[d(111)].y),i[d(115)]=n[d(152)];const b=(this[d(217)][d(158)]-2)*this[d(217)][d(137)]+this[d(217)][d(137)]/2;n[d(111)].y>b&&(this[d(159)](n[d(111)].x),w[d(199)][d(156)](this[d(180)],n),i[d(107)](),this.app[d(132)][d(156)](c),this.ballParamsMap.delete(n.id))};this[x(188)][x(132)][x(141)](c);const o={path:e,start:f,fir:l};this.ballParamsMap.set(n.id,o)}[a(169)]=[];pinsGfx=[];createPinsAndResultBoxes(e){const x=a;this.clearPinsAndRes(),this[x(217)]=e;const{rows:t,startY:s,gap:r,pinRadius:l}=e;for(let f=2;f<t;f++){const _=f+1,n=(_-1)*r,i=this.width/2-n/2;for(let c=0;c<_;c++){const o=i+c*r,d=s+(f-2)*r,b=w[x(168)][x(114)](o,d,l,{isStatic:!0,label:x(175)+(f-1)+"-"+c}),p=new g()[x(114)](0,0,l)[x(106)](16777215);p.x=o,p.y=d,this[x(169)].push(b),this[x(146)][x(194)](p),w[x(199)][x(141)](this.world,b),this[x(188)][x(225)][x(213)](p)}}this[x(183)]()}[a(136)](e){const x=a,{bodyA:t,bodyB:s}=e,r=t.label==="ball"?t:s[x(214)]===x(221)?s:null,l=t[x(214)][x(144)]("row-")?t.label:s.label.startsWith(x(175))?s.label:null,f=t[x(214)][x(144)](x(175))?t:s[x(214)][x(144)](x(175))?s:null;if(f&&this.pinAnimal(f),!r||!l)return;const _=r.id,n=Number[x(184)](l[x(203)]("-")[1],10),i=this[x(207)].get(_);if(!i)return;const{path:c,start:o,fir:d}=i;if(!c||!d||Number[x(218)](n))return;if(n===1){const p=d==="R"?o===0?1:-1:o===0?-1.2:1.2;this[x(124)](r,p);return}const b=c[n-1];b==="R"?this[x(124)](r,1.2):b==="L"&&this[x(124)](r,-1.2)}[a(189)]=new Map;[a(185)]=a(201);async[a(183)](){const e=a,x=this[e(217)][e(137)],t=x-2,s=this.pinParams[e(158)]-1,r=s-2,l=this[e(217)].startY+r*x+x/2,f=this[e(164)]/2-s*x/2,_=this[e(217)][e(158)]-2;for(let n=0;n<s;n++){const i=f+n*x+1,c=new L({label:e(120)+n,interactive:!0}),o=new g()[e(167)](0,0,t,14,2).fill({color:this.getBg(_,n)}),d=new g()[e(167)](0,0,t,16,2).fill({color:this.getShadow(_,n)});d.position[e(220)](0,0);const b=this[e(135)](this.level,_,n)||0,p=new W({label:"res-text-"+n,text:b+`
x`,style:{fontSize:14,fill:"#000",align:e(204)},anchor:.5});p[e(111)].set(t/2,8),p[e(165)][e(220)](.4),c[e(213)](d),c[e(213)](o),c[e(213)](p),c.position[e(220)](i,l),this[e(189)][e(220)](n,c),this[e(188)][e(225)].addChild(c),c.on("mouseover",()=>{const I=e;this[I(140)](!0,this[I(110)](this[I(217)][I(158)]-2,n)[I(139)](4))}),c.on("mouseout",()=>{this.popCallback(!1)})}}[a(208)](){const e=a;for(const x of this[e(169)])w[e(199)][e(156)](this[e(180)],x);for(const x of this[e(146)])x[e(107)]();this[e(169)]=[],this[e(146)]=[],this[e(189)][e(176)](x=>{x[e(107)]()}),this[e(189)].clear(),this[e(149)]=0}[a(124)](e,x){const t=a;G.Body[t(108)](e,{x,y:0})}[a(210)](e,x){return X["_"+e][x]}[a(195)](e,x){return $["_"+e][x]}getText(e,x,t){return T[e]["_"+x][t]}[a(110)](e,x){return x0["_"+e][x]*100}[a(118)](e){const x=a;this[x(140)]=e}[a(171)](e){const x=a;this[x(134)]=e}[a(202)](e){const x=a;if(this[x(185)]=e,!!T[e])for(const[s,r]of this[x(189)]){const l=r[x(161)](x(109)+s),f=T[e]["_"+(this[x(217)][x(158)]-2)][s];l[x(177)]=f+`
x`}}[a(159)](e){const x=a;for(const[t,s]of this[x(189)][x(170)]()){const r=s.x,l=s.x+s.width;e>=r&&e<=l&&(this[x(209)](s),console.log("Ball hit result box "+t))}}[a(148)](){const e=a;w[e(229)].on(this[e(186)],e(104),x=>{const t=e;for(const s of x[t(162)])this[t(136)](s)})}[a(205)](e){const x=a,t=new g;t[x(111)].set(e[x(111)].x,e[x(111)].y),this[x(188)].stage.addChild(t);const s=0,r=10,l=400,f=performance[x(227)](),_=n=>{const i=x,c=n-f,o=Math[i(105)](c/l,1),d=s+(r-s)*o,b=.9*(1-o);t.clear();const p=e.circleRadius??4;t[i(114)](0,0,p*1.2+d).fill({color:16777215,alpha:b}),o<1?requestAnimationFrame(_):t[i(107)]()};requestAnimationFrame(_)}[a(149)]=0;resBoxAnimal(e){const x=a,t=e.position.y;this[x(149)]||(this[x(149)]=t);const s=4,r=150,l=performance[x(227)](),f=_=>{const n=x,i=_-l,c=Math.min(i/r,1);e[n(111)].y=t+s*c,c<1?requestAnimationFrame(f):e[n(111)].y=this[n(149)]};requestAnimationFrame(f)}[a(153)]=new H;[a(131)]=[];[a(160)]=4;[a(121)]=26;[a(125)]=26;[a(191)]=new L;[a(172)]=0;[a(133)](e){const x=a;this[x(228)]=e}[a(190)](e,x,t){const s=a,r=t?.6:1,l=[{x:0,y:this[s(125)],radius:0},{x:this[s(121)],y:this[s(125)],radius:0},{x:this[s(121)],y:0,radius:0},{x:0,y:0,radius:0}];return e===0?(l[2][s(138)]=4,l[3][s(138)]=4):e===this[s(160)]-1&&(l[0][s(138)]=4,l[1][s(138)]=4),new g({label:String(x)})[s(128)](l,10)[s(106)]({color:x,alpha:r})[s(145)]({width:1,color:0})}addRecord(e,x){const t=a,s=new L({interactive:!0});s.position[t(220)](0,-this[t(125)]);const r=this[t(190)](this[t(172)],x),l=new W({text:e+"x",style:{fontSize:16,fill:0},scale:.5,anchor:.5});l[t(111)].x=this.boxWidth/2,l[t(111)].y=this[t(125)]/2,s.addChild(r),s[t(213)](l),this[t(191)][t(213)](s),this[t(131)][t(196)](s);let f;s.on(t(200),()=>{const n=t;f=this[n(190)](this[n(172)],0,!0),s[n(213)](f)}),s.on(t(193),()=>{const n=t;f&&(s[n(127)](f),f?.destroy(),f=null)}),s.on("click",()=>{const n=t;console[n(182)](n(198)),this[n(134)]&&this.recordCallback()}),this[t(172)]++,this[t(172)]===4&&(this[t(172)]=1),this[t(131)][t(176)]((n,i)=>{const c=t,o=i*this.boxHeight;if(this.recordArr[c(113)]>1){const d=this[c(131)][i],b=d[c(127)](d[c(178)][0]),p=b[c(214)];b[c(107)](),this.recordArr[i][c(213)](this.createRoundedRect(i,Number(p))),this[c(131)][i][c(178)][c(142)]()}new Y(n[c(111)],this.tweenGroup).to({y:o},200).start()});const _=n=>{const i=t;this.tweenGroup[i(155)](n.lastTime)};if(this[t(131)].length>this[t(160)]){const n=this[t(131)][t(147)]();new Y(n[t(111)],this[t(153)]).to({alpha:0},150)[t(119)](()=>{const i=t;this.app.ticker[i(156)](_),this[i(191)][i(127)](n),n?.[i(107)]()})[t(150)]()}this.app[t(132)][t(141)](_)}}function k(h,e){const x=A();return k=function(t,s){return t=t-221,x[t]},k(h,e)}const u=k;(function(h,e){const x=k,t=h();for(;;)try{if(-parseInt(x(234))/1+parseInt(x(251))/2+-parseInt(x(259))/3+-parseInt(x(235))/4*(-parseInt(x(248))/5)+parseInt(x(267))/6*(-parseInt(x(244))/7)+-parseInt(x(245))/8+parseInt(x(247))/9*(parseInt(x(224))/10)===e)break;t.push(t.shift())}catch{t.push(t.shift())}})(A,187173);const e0={class:"relative"},s0={class:u(237)},a0={class:"input-wrap"},i0=[u(257)],n0={class:u(231)},c0={key:0,id:u(227),class:u(225)},o0={class:u(270)},r0={class:u(228)},d0=[u(223)];function A(){const h=["disabled","10KPodZE","help","value","path-help","w-full flex justify-center items-center","label","init","hint-row","div","length","22371QVDkLc","8permrm","input","relative","2 秒允许点击一次","pins","split","get","投球路径（10 位，仅 L/R）","container","357ZkvdGK","2145400mqiLJR","target","3299769lNsDJo","424055VdVRGY","text","slice","744248sbIhpK","toUpperCase","ballConfig","off","span","input-control","aria-invalid","createPinsAndResultBoxes","1075968ccnHTk","AppPlinko","button","path","/10","#1e1e1e","false","test","8472gZjmWJ"," 位，请填写 10 位","createBall","counter","replace","仅允许填写字符 L 或 R","例如：LRRLLRLR"];return A=function(){return h},A()}const l0=10,f0=O({__name:u(260),setup(h){const e=u,x=M(null);let t;const s=M(""),r=S(()=>/^[LR]{10}$/[e(266)](s.value)),l=M(!1),f=S(()=>{const i=e;return s[i(226)]?/[^LR]/[i(266)](s[i(226)])?i(221):s.value[i(233)]!==10?"当前 "+s[i(226)][i(233)]+i(268):"":"请输入 10 位路径，仅允许 L 或 R"});function _(i){const c=e,o=i[c(246)],d=o[c(226)][c(252)]()[c(271)](/[^LR]/g,"")[c(250)](0,10);s[c(226)]=d}async function n(){const i=e;if(!r.value||l[i(226)]||!t)return;l.value=!0;const c=s[i(226)][i(240)]("");t[i(269)](c),setTimeout(()=>l[i(226)]=!1,400)}return z(async()=>{const i=e,c=U[i(241)](10);x[i(226)]&&(t=new t0(x[i(226)]),await t[i(230)](300,276,i(264)),await t[i(258)](c?.[i(239)]??{rows:12,startY:24,gap:24,pinRadius:4}),t.setBallConfig(c?.[i(253)].radius,c?.[i(253)].air))}),(i,c)=>{const o=e;return Q(),E(o(232),e0,[m(o(232),s0,[m(o(232),{ref_key:o(243),ref:x,class:"container"},null,512)]),m(o(232),a0,[c[1]||(c[1]=m(o(229),{class:o(229),for:o(262)},o(242),-1)),V(m(o(236),{id:o(262),class:q([o(256),{invalid:!r.value&&s[o(226)]}]),type:o(249),"onUpdate:modelValue":c[0]||(c[0]=d=>s.value=d),maxlength:l0,placeholder:o(222),onInput:_,autocomplete:o(254),autocapitalize:"characters",spellcheck:o(265),"aria-describedby":o(227),"aria-invalid":!r[o(226)]},null,42,i0),[[j,s.value]]),m("div",n0,[f[o(226)]?(Q(),E("span",c0,N(f.value),1)):J("",!0),m(o(255),o0,N(s[o(226)][o(233)])+o(263),1)])]),m(o(232),r0,[m(o(261),{class:"start-btn",disabled:!r.value||l.value,onClick:n,title:o(238)}," 开始游戏 ",8,d0)])])}}});function B(h,e){var x=P();return B=function(t,s){t=t-461;var r=x[t];return r},B(h,e)}var F=B;(function(h,e){for(var x=B,t=h();;)try{var s=parseInt(x(462))/1*(-parseInt(x(463))/2)+parseInt(x(472))/3*(parseInt(x(471))/4)+parseInt(x(470))/5+-parseInt(x(461))/6*(-parseInt(x(469))/7)+parseInt(x(465))/8*(parseInt(x(467))/9)+parseInt(x(464))/10+parseInt(x(474))/11*(-parseInt(x(466))/12);if(s===e)break;t.push(t.shift())}catch{t.push(t.shift())}})(P,321422);function P(){var h=["38057JTTWHv","18fzLIfx","4330870PcIgQU","48OMYWaQ","36EQCeEu","310878COPiIS","__scopeId","7kWhOck","2897330oQoERh","24gicYOO","29979zRWJhB","data-v-cb23dd70","4401837sgfMyQ","3508038tYhkxT"];return P=function(){return h},P()}const u0=Z(f0,[[F(468),F(473)]]);export{u0 as A,Z as _};
