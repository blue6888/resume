import{d as Y,r as M,c as z,o as D,a as N,b as S,e as m,w as E,v as Q,n as j,f as H,t as q}from"./vendor-B53ZnZId.js";import{A as U,G as w,C as L,B as V}from"./vendor-pixi-js-CbWXL6N4.js";import{m as I,_ as C}from"./vendor-matter-js-BPzui2TA.js";import{G as W,T as F}from"./vendor-tweenjs-BtMkXI7v.js";const K=(b,t)=>{const x=b.__vccOpts||b;for(const[e,s]of t)x[e]=s;return x};(function(b,t){const x=R,e=b();for(;;)try{if(-parseInt(x(325))/1+-parseInt(x(329))/2+-parseInt(x(334))/3+-parseInt(x(328))/4*(parseInt(x(323))/5)+parseInt(x(333))/6*(-parseInt(x(335))/7)+parseInt(x(324))/8*(parseInt(x(327))/9)+parseInt(x(331))/10*(parseInt(x(332))/11)===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(y,269443);function O(){const b=r=>{const f=R,l=r[f(326)]((n,a)=>n+a,0);return r[f(330)](n=>n/l)},t={low:{_10:[8.9,3,1.4,1.1,1,.5,1,1.1,1.4,3,8.9]},middle:{_10:[22,5,2,1.4,.6,.4,.6,1.4,2,5,22]},high:{_10:[76,10,3,.9,.3,.2,.3,.9,3,10,76]}},x={_10:b([1,10,45,120,210,252,210,120,45,10,1])};return{resText:t,probabilities:x,colors:{_10:[1357990,440020,3718648,5195493,9133302,59135,9133302,5195493,3718648,440020,1357990]},shadows:{_10:[1020292,561586,959977,4405450,7153881,42956,7153881,4405450,959977,561586,1020292]}}}function y(){const b=["814114JCTgpe","2890Vclatc","8FxrqCV","31651NlJkPM","reduce","4505184ANBHkj","2840dmRynz","1033340NRyAbt","map","585670DtQIsg","231UjCbuZ","12RwABIQ","809205UhGTlm"];return y=function(){return b},y()}function R(b,t){const x=y();return R=function(e,s){return e=e-323,x[e]},R(b,t)}const X=new Map([[10,{pins:{rows:12,startY:24,gap:24,pinRadius:4},ballConfig:{radius:6,air:.12}}]]),i=A;(function(b,t){const x=A,e=b();for(;;)try{if(-parseInt(x(471))/1*(-parseInt(x(461))/2)+-parseInt(x(472))/3+-parseInt(x(450))/4*(-parseInt(x(449))/5)+-parseInt(x(534))/6+-parseInt(x(494))/7+parseInt(x(447))/8+parseInt(x(525))/9===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(v,372666);function v(){const b=["2021476GVmPSH","Body","stackBox","createBall","runner","circle","ballParamsMap","roundShape","listenCollisions","label","rows","12LTEioe","res-text-","ticker","clear","collisionStart","fill","nextGroup","height","maxCount","parseInt","34507urpnvc","1394808rbQfJD","delete","Engine","scale","width","Ball hit result box ","low","angle","stroke","addXPower","remove","update","Bodies","setPopCb","start","engine","recordArr","create","getProbability","level","appendChild","now","345821cvCzRD","row-","setBallConfig","mouseover","gap","resBoxMap","Runner","init","removeChild","unshift","circleRadius","isNaN","push","pinParams","显示游戏结果事件","clearPinsAndRes","firstY","stage","createElement","pairs","dealCollisions","recordCount","pinsMatter","ballRadius","tweenGroup","devicePixelRatio","res-","length","text","log","resBoxAnimal","2442591QzTVqD","findResultArea","center","getBg","velocityIterations","setGameRes","pinsGfx","click","gameRes","3201300hQBKww","children","tickerFn","addRecord","recordCallback","createResultBox","mouseout","radius","setVelocity","canvas","startsWith","setLevel","pinAnimal","nonCollideGroup","entries","style","positionIterations","get","pop","roundRect","ball","rotation","app","split","run","reverse","frictionAir","forEach","world","#000","boxHeight","position","add","popCallback","getShadow","Composite","addChild","ballConfig","Events","toFixed","boxWidth","startY","createRoundedRect","min","set","3493960neklqR","destroy","5frKQap"];return v=function(){return b},v()}function A(b,t){const x=v();return A=function(e,s){return e=e-423,x[e]},A(b,t)}const{colors:J,shadows:Z,resText:T,probabilities:$}=O();class x0{id=1;[i(543)];[i(424)];engine;[i(430)];[i(454)];[i(476)];[i(468)];[i(536)];[i(456)]=new Map;[i(507)]={};[i(547)]=I.Body[i(467)](!0);ballConfig={ballRadius:4,frictionAir:.05};[i(435)];[i(538)];gameRes;constructor(t){const x=i;this[x(543)]=document[x(512)](x(543)),t[x(492)](this[x(543)]),this.app=new U,this[x(487)]=C[x(474)][x(489)](),this[x(430)]=this[x(487)][x(430)],this[x(454)]=C[x(500)][x(489)](),this[x(487)][x(550)]=10,this[x(487)][x(529)]=10,this[x(487)].timing.timeScale=2}async[i(501)](t,x,e){const s=i;this[s(476)]=t,this[s(468)]=x,this.canvas[s(549)][s(476)]=t+"px",this[s(543)][s(549)][s(468)]=x+"px",this[s(452)][s(433)].set(this[s(476)]-45,this[s(468)]/4),this[s(424)][s(511)][s(438)](this[s(452)]),await this[s(424)].init({canvas:this[s(543)],width:t,height:x,background:e,antialias:!0,resolution:window[s(519)]}),I.Runner[s(426)](this.runner,this[s(487)]),this[s(458)]()}[i(496)](t,x){const e=i;this[e(439)]={ballRadius:t,frictionAir:x}}[i(453)](t){const x=i,e=this.width/2,s=[e,e+this[x(507)][x(498)]],r=[e,e-this[x(507)][x(498)]],f=t[0],l=Math.floor(Math.random()*2),h=f==="R"?s[l]:r[l],n=C[x(484)][x(455)](h,0,this[x(439)].ballRadius,{id:this.id++,label:x(554),mass:1,restitution:0,friction:0,frictionAir:this.ballConfig[x(428)],collisionFilter:{group:this.nonCollideGroup}}),a=new w()[x(455)](0,0,this[x(439)][x(517)])[x(466)](16733525);a.position[x(446)](n[x(433)].x,n[x(433)].y),C[x(437)][x(434)](this[x(430)],n),this.app[x(511)][x(438)](a);const c=()=>{const d=x;a[d(433)][d(446)](n[d(433)].x,n[d(433)].y),a[d(423)]=n[d(479)];const _=(this.pinParams[d(460)]-2)*this[d(507)][d(498)]+this[d(507)][d(498)]/2;n[d(433)].y>_&&(this.findResultArea(n.position.x),I.Composite[d(482)](this[d(430)],n),a[d(448)](),this.app[d(463)][d(482)](c),this[d(456)][d(473)](n.id))};this[x(424)][x(463)][x(434)](c);const o={path:t,start:l,fir:f};this[x(456)].set(n.id,o)}pinsMatter=[];[i(531)]=[];createPinsAndResultBoxes(t){const x=i;this[x(509)](),this[x(507)]=t;const{rows:e,startY:s,gap:r,pinRadius:f}=t;for(let l=2;l<e;l++){const h=l+1,n=(h-1)*r,a=this[x(476)]/2-n/2;for(let c=0;c<h;c++){const o=a+c*r,d=s+(l-2)*r,_=I.Bodies[x(455)](o,d,f,{isStatic:!0,label:x(495)+(l-1)+"-"+c}),p=new w()[x(455)](0,0,f).fill(16777215);p.x=o,p.y=d,this[x(516)][x(506)](_),this[x(531)][x(506)](p),I.Composite.add(this[x(430)],_),this[x(424)][x(511)][x(438)](p)}}this[x(539)]()}dealCollisions(t){const x=i,{bodyA:e,bodyB:s}=t,r=e[x(459)]===x(554)?e:s[x(459)]===x(554)?s:null,f=e[x(459)][x(544)](x(495))?e[x(459)]:s.label[x(544)]("row-")?s[x(459)]:null,l=e.label[x(544)](x(495))?e:s[x(459)][x(544)]("row-")?s:null;if(l&&this.pinAnimal(l),!r||!f)return;const h=r.id,n=Number[x(470)](f[x(425)]("-")[1],10),a=this[x(456)][x(551)](h);if(!a)return;const{path:c,start:o,fir:d}=a;if(!c||!d||Number[x(505)](n))return;if(n===1){const p=d==="R"?o===0?1:-1:o===0?-1.2:1.2;this[x(481)](r,p);return}const _=c[n-1];_==="R"?this[x(481)](r,1.2):_==="L"&&this[x(481)](r,-1.2)}[i(499)]=new Map;[i(491)]=i(478);async[i(539)](){const t=i,x=this[t(507)][t(498)],e=x-2,s=this[t(507)].rows-1,r=s-2,f=this[t(507)][t(443)]+r*x+x/2,l=this[t(476)]/2-s*x/2,h=this[t(507)][t(460)]-2;for(let n=0;n<s;n++){const a=l+n*x+1,c=new L({label:t(520)+n,interactive:!0}),o=new w()[t(553)](0,0,e,14,2)[t(466)]({color:this[t(528)](h,n)}),d=new w()[t(553)](0,0,e,16,2).fill({color:this[t(436)](h,n)});d[t(433)][t(446)](0,0);const _=this.getText(this[t(491)],h,n)||0,p=new V({label:t(462)+n,text:_+`
x`,style:{fontSize:14,fill:t(431),align:t(527)},anchor:.5});p[t(433)][t(446)](e/2,8),p[t(475)].set(.4),c[t(438)](d),c[t(438)](o),c.addChild(p),c.position.set(a,f),this[t(499)][t(446)](n,c),this[t(424)][t(511)][t(438)](c),c.on(t(497),()=>{const g=t;this[g(435)](!0,this[g(490)](this[g(507)][g(460)]-2,n)[g(441)](4))}),c.on(t(540),()=>{this.popCallback(!1)})}}clearPinsAndRes(){const t=i;for(const x of this[t(516)])I.Composite[t(482)](this.world,x);for(const x of this.pinsGfx)x[t(448)]();this[t(516)]=[],this.pinsGfx=[],this[t(499)][t(429)](x=>{x[t(448)]()}),this[t(499)][t(464)](),this.firstY=0}[i(481)](t,x){const e=i;C[e(451)][e(542)](t,{x,y:0})}[i(528)](t,x){return J["_"+t][x]}[i(436)](t,x){return Z["_"+t][x]}getText(t,x,e){return T[t]["_"+x][e]}[i(490)](t,x){return $["_"+t][x]*100}[i(485)](t){const x=i;this[x(435)]=t}setRecordClickCb(t){const x=i;this[x(538)]=t}[i(545)](t){const x=i;if(this[x(491)]=t,!!T[t])for(const[s,r]of this[x(499)]){const f=r.getChildByLabel("res-text-"+s),l=T[t]["_"+(this[x(507)][x(460)]-2)][s];f[x(522)]=l+`
x`}}[i(526)](t){const x=i;for(const[e,s]of this.resBoxMap[x(548)]()){const r=s.x,f=s.x+s[x(476)];t>=r&&t<=f&&(this[x(524)](s),console[x(523)](x(477)+e))}}[i(458)](){const t=i;C[t(440)].on(this[t(487)],t(465),x=>{const e=t;for(const s of x[e(513)])this[e(514)](s)})}[i(546)](t){const x=i,e=new w;e[x(433)][x(446)](t[x(433)].x,t.position.y),this.app[x(511)][x(438)](e);const s=0,r=10,f=400,l=performance[x(493)](),h=n=>{const a=x,c=n-l,o=Math[a(445)](c/f,1),d=s+(r-s)*o,_=.9*(1-o);e[a(464)]();const p=t[a(504)]??4;e[a(455)](0,0,p*1.2+d)[a(466)]({color:16777215,alpha:_}),o<1?requestAnimationFrame(h):e[a(448)]()};requestAnimationFrame(h)}[i(510)]=0;resBoxAnimal(t){const x=i,e=t[x(433)].y;this[x(510)]||(this[x(510)]=e);const s=4,r=150,f=performance.now(),l=h=>{const n=x,a=h-f,c=Math[n(445)](a/r,1);t[n(433)].y=e+s*c,c<1?requestAnimationFrame(l):t.position.y=this.firstY};requestAnimationFrame(l)}[i(518)]=new W;recordArr=[];[i(469)]=4;[i(442)]=26;[i(432)]=26;[i(452)]=new L;[i(515)]=0;[i(530)](t){const x=i;this[x(533)]=t}[i(444)](t,x,e){const s=i,r=e?.6:1,f=[{x:0,y:this[s(432)],radius:0},{x:this[s(442)],y:this[s(432)],radius:0},{x:this[s(442)],y:0,radius:0},{x:0,y:0,radius:0}];return t===0?(f[2][s(541)]=4,f[3][s(541)]=4):t===this.maxCount-1&&(f[0][s(541)]=4,f[1].radius=4),new w({label:String(x)})[s(457)](f,10).fill({color:x,alpha:r})[s(480)]({width:1,color:0})}[i(537)](t,x){const e=i,s=new L({interactive:!0});s.position[e(446)](0,-this[e(432)]);const r=this.createRoundedRect(this[e(515)],x),f=new V({text:t+"x",style:{fontSize:16,fill:0},scale:.5,anchor:.5});f[e(433)].x=this[e(442)]/2,f[e(433)].y=this[e(432)]/2,s.addChild(r),s[e(438)](f),this[e(452)][e(438)](s),this[e(488)][e(503)](s);let l;s.on("mouseover",()=>{const n=e;l=this[n(444)](this[n(515)],0,!0),s[n(438)](l)}),s.on("mouseout",()=>{const n=e;l&&(s.removeChild(l),l?.[n(448)](),l=null)}),s.on(e(532),()=>{const n=e;console[n(523)](n(508)),this[n(538)]&&this[n(538)]()}),this.recordCount++,this[e(515)]===4&&(this[e(515)]=1),this[e(488)][e(429)]((n,a)=>{const c=e,o=a*this.boxHeight;if(this[c(488)][c(521)]>1){const d=this.recordArr[a],_=d.removeChild(d[c(535)][0]),p=_[c(459)];_.destroy(),this[c(488)][a].addChild(this[c(444)](a,Number(p))),this[c(488)][a].children[c(427)]()}new F(n.position,this.tweenGroup).to({y:o},200)[c(486)]()});const h=n=>{const a=e;this[a(518)][a(483)](n.lastTime)};if(this[e(488)][e(521)]>this[e(469)]){const n=this[e(488)][e(552)]();new F(n.position,this.tweenGroup).to({alpha:0},150).onComplete(()=>{const a=e;this[a(424)][a(463)][a(482)](h),this[a(452)][a(502)](n),n?.destroy()})[e(486)]()}this[e(424)][e(463)][e(434)](h)}}function B(){const b=["toUpperCase","ballConfig"," 开始游戏 ","2426yptKCz","createBall","characters","false","test","仅允许填写字符 L 或 R","value","length","2072880pYALjs","#1e1e1e","83847agnmHE","relative","label","投球路径（10 位，仅 L/R）","setBallConfig","get"," 位，请填写 10 位","hint-row","w-full flex justify-center items-center","container","input-control","aria-invalid","button","counter","2004639qMPWgD","请输入 10 位路径，仅允许 L 或 R","replace","span","/10","AppPlinko","path-help","983050CdTcNO","当前 ","init","radius","24685GxIASW","off","18yewrNj","62pjiizt","input-wrap","div","144zqXoBI","184288mrXKsO","path","pins","help"];return B=function(){return b},B()}const u=k;(function(b,t){const x=k,e=b();for(;;)try{if(-parseInt(x(423))/1*(parseInt(x(412))/2)+parseInt(x(433))/3+-parseInt(x(416))/4+-parseInt(x(409))/5*(-parseInt(x(415))/6)+-parseInt(x(398))/7+parseInt(x(431))/8+parseInt(x(411))/9*(parseInt(x(405))/10)===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(B,194502);const t0={class:u(434)},e0={class:u(434)},s0={class:u(413)},a0=[u(395)],i0={class:u(391)},n0={key:0,id:u(404),class:u(419)},c0={class:u(397)},o0={class:u(392)},r0=["disabled"];function k(b,t){const x=B();return k=function(e,s){return e=e-386,x[e]},k(b,t)}const d0=10,f0=Y({__name:u(403),setup(b){const t=u,x=M(null);let e;const s=M(""),r=z(()=>/^[LR]{10}$/.test(s[t(429)])),f=M(!1),l=z(()=>{const a=t;return s[a(429)]?/[^LR]/[a(427)](s[a(429)])?a(428):s[a(429)][a(430)]!==10?a(406)+s[a(429)][a(430)]+a(390):"":a(399)});function h(a){const c=t,o=a.target,d=o[c(429)][c(420)]()[c(400)](/[^LR]/g,"").slice(0,10);s[c(429)]=d}async function n(){const a=t;if(!r[a(429)]||f[a(429)]||!e)return;f.value=!0;const c=s.value.split("");e[a(424)](c),setTimeout(()=>f[a(429)]=!1,400)}return D(async()=>{const a=t,c=X[a(389)](10);x[a(429)]&&(e=new x0(x[a(429)]),await e[a(407)](300,276,a(432)),await e.createPinsAndResultBoxes(c?.[a(418)]??{rows:12,startY:24,gap:24,pinRadius:4}),e[a(388)](c?.[a(421)][a(408)],c?.[a(421)].air))}),(a,c)=>{const o=t;return S(),N(o(414),t0,[m("div",e0,[m(o(414),{ref_key:o(393),ref:x,class:o(393)},null,512)]),m(o(414),s0,[c[1]||(c[1]=m("label",{class:o(386),for:o(417)},o(387),-1)),E(m("input",{id:o(417),class:j([o(394),{invalid:!r.value&&s[o(429)]}]),type:"text","onUpdate:modelValue":c[0]||(c[0]=d=>s[o(429)]=d),maxlength:d0,placeholder:"例如：LRRLLRLR",onInput:h,autocomplete:o(410),autocapitalize:o(425),spellcheck:o(426),"aria-describedby":o(404),"aria-invalid":!r[o(429)]},null,42,a0),[[Q,s[o(429)]]]),m(o(414),i0,[l[o(429)]?(S(),N("span",n0,q(l.value),1)):H("",!0),m(o(401),c0,q(s[o(429)][o(430)])+o(402),1)])]),m(o(414),o0,[m(o(396),{class:"start-btn",disabled:!r[o(429)]||f.value,onClick:n,title:"2 秒允许点击一次"},o(422),8,r0)])])}}});var l0=P;function P(b,t){var x=G();return P=function(e,s){e=e-252;var r=x[e];return r},P(b,t)}(function(b,t){for(var x=P,e=b();;)try{var s=-parseInt(x(252))/1+parseInt(x(262))/2*(-parseInt(x(260))/3)+-parseInt(x(254))/4+parseInt(x(261))/5*(parseInt(x(258))/6)+-parseInt(x(257))/7*(-parseInt(x(253))/8)+-parseInt(x(259))/9+parseInt(x(255))/10;if(s===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(G,272237);function G(){var b=["406zbGzqt","12fzjPds","406341iuXSpl","142581hIohrs","196275HxIHoi","14xhWQrD","419192UCVVde","42968Uudwwr","669780nQOmYm","8466840LqPlbp","data-v-cb23dd70"];return G=function(){return b},G()}const u0=K(f0,[["__scopeId",l0(256)]]);export{u0 as A,K as _};
