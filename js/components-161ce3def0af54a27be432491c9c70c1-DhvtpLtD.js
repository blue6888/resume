import{d as X,r as P,c as L,o as j,a as T,b as z,e as m,w as q,v as N,n as W,f as K,t as S}from"./vendor-q4_JwtHI.js";import{A as H,G as g,C as M,B as Y}from"./vendor-pixi-js-CqIIzDVx.js";import{_ as u,m as U}from"./vendor-matter-js-BQ72DKUX.js";import{G as D,T as E}from"./vendor-tweenjs-BtMkXI7v.js";const J=(h,e)=>{const x=h.__vccOpts||h;for(const[t,s]of e)x[t]=s;return x};function y(){const h=["10205kjyZyz","20KMXWJZ","1421HCfxzk","56582hYVjaK","60xTFhvM","10308uokQyF","137007sHXKql","150tvHlXl","834SsoyGz","1162436yhzbxF","map","1564541etqgnT","reduce","1960RvpTSc"];return y=function(){return h},y()}(function(h,e){const x=I,t=h();for(;;)try{if(-parseInt(x(246))/1+parseInt(x(244))/2*(parseInt(x(248))/3)+-parseInt(x(252))/4+parseInt(x(257))/5*(parseInt(x(251))/6)+-parseInt(x(245))/7*(parseInt(x(256))/8)+-parseInt(x(249))/9*(parseInt(x(250))/10)+parseInt(x(254))/11*(parseInt(x(247))/12)===e)break;t.push(t.shift())}catch{t.push(t.shift())}})(y,403943);function I(h,e){const x=y();return I=function(t,s){return t=t-244,x[t]},I(h,e)}function Q(){const h=r=>{const f=I,l=r[f(255)]((i,a)=>i+a,0);return r[f(253)](i=>i/l)},e={low:{_10:[8.9,3,1.4,1.1,1,.5,1,1.1,1.4,3,8.9]},middle:{_10:[22,5,2,1.4,.6,.4,.6,1.4,2,5,22]},high:{_10:[76,10,3,.9,.3,.2,.3,.9,3,10,76]}},x={_10:h([1,10,45,120,210,252,210,120,45,10,1])};return{resText:e,probabilities:x,colors:{_10:[1357990,440020,3718648,5195493,9133302,59135,9133302,5195493,3718648,440020,1357990]},shadows:{_10:[1020292,561586,959977,4405450,7153881,42956,7153881,4405450,959977,561586,1020292]}}}const Z=new Map([[10,{pins:{rows:12,startY:24,gap:24,pinRadius:4},ballConfig:{radius:6,air:.12}}]]),n=v;(function(h,e){const x=v,t=h();for(;;)try{if(-parseInt(x(218))/1+-parseInt(x(210))/2*(parseInt(x(247))/3)+-parseInt(x(141))/4+parseInt(x(232))/5*(-parseInt(x(121))/6)+-parseInt(x(197))/7+parseInt(x(161))/8+parseInt(x(196))/9===e)break;t.push(t.shift())}catch{t.push(t.shift())}})(C,561107);function v(h,e){const x=C();return v=function(t,s){return t=t-120,x[t]},v(h,e)}function C(){const h=["nextGroup","598326egFdoN","forEach","createRoundedRect","circleRadius","Composite","findResultArea","createBall","reverse","639667jsgJXt","center","resBoxAnimal","appendChild","dealCollisions","floor","popCallback","toFixed","setRecordClickCb","startY","stackBox","height","now","clearPinsAndRes","1135dzGDch","pop","res-text-","style","Runner","label","removeChild","rows","listenCollisions","boxWidth","addXPower","runner","createPinsAndResultBoxes","level","position","3ayJyzY","tweenGroup","angle","14166xKlvGY","timeScale","update","Engine","width","mouseout","min","start","ticker","ballConfig","getChildByLabel","setBallConfig","devicePixelRatio","ballRadius","#000","add","addRecord","unshift","low","pairs","2409776gEOiVm","frictionAir","ball","createResultBox","Body","rotation","ballParamsMap","world","push","tickerFn","resBoxMap","gameRes","recordCallback","text","collisionStart","clear","radius","random","fill","firstY","6786280mMSEVo","delete","setLevel","run","getBg","pinAnimal","gap","entries","Ball hit result box ","split","canvas","create","stage","init","nonCollideGroup","app","res-","pinsGfx","children","parseInt","getText","addChild","onComplete","maxCount","length","row-","log","roundRect","set","mouseover","pinParams","Bodies","pinsMatter","scale","boxHeight","23724783XqeJHx","5922308dIDKIp","recordCount","engine","isNaN","click","positionIterations","recordArr","circle","destroy","startsWith","getProbability","remove"];return C=function(){return h},C()}const{colors:O,shadows:$,resText:G,probabilities:x0}=Q();class e0{id=1;[n(171)];[n(176)];engine;[n(148)];runner;[n(125)];[n(229)];[n(150)];[n(147)]=new Map;pinParams={};nonCollideGroup=u[n(145)][n(209)](!0);[n(130)]={ballRadius:4,frictionAir:.05};[n(224)];[n(153)];[n(152)];constructor(e){const x=n;this[x(171)]=document.createElement("canvas"),e[x(221)](this.canvas),this[x(176)]=new H,this[x(199)]=u[x(124)][x(172)](),this[x(148)]=this.engine.world,this[x(243)]=u[x(236)][x(172)](),this[x(199)][x(202)]=10,this[x(199)].velocityIterations=10,this[x(199)].timing[x(122)]=2}async init(e,x,t){const s=n;this[s(125)]=e,this.height=x,this[s(171)][s(235)][s(125)]=e+"px",this[s(171)].style[s(229)]=x+"px",this[s(228)][s(246)][s(189)](this[s(125)]-45,this[s(229)]/4),this[s(176)][s(173)].addChild(this[s(228)]),await this[s(176)][s(174)]({canvas:this[s(171)],width:e,height:x,background:t,antialias:!0,resolution:window[s(133)]}),u[s(236)][s(164)](this[s(243)],this.engine),this[s(240)]()}[n(132)](e,x){const t=n;this[t(130)]={ballRadius:e,frictionAir:x}}[n(216)](e){const x=n,t=this[x(125)]/2,s=[t,t+this.pinParams.gap],r=[t,t-this[x(191)][x(167)]],f=e[0],l=Math[x(223)](Math[x(158)]()*2),b=f==="R"?s[l]:r[l],i=u[x(192)][x(204)](b,0,this.ballConfig[x(134)],{id:this.id++,label:x(143),mass:1,restitution:0,friction:0,frictionAir:this.ballConfig[x(142)],collisionFilter:{group:this[x(175)]}}),a=new g()[x(204)](0,0,this[x(130)][x(134)])[x(159)](16733525);a.position[x(189)](i[x(246)].x,i[x(246)].y),u[x(214)].add(this.world,i),this[x(176)][x(173)][x(182)](a);const c=()=>{const d=x;a.position[d(189)](i[d(246)].x,i[d(246)].y),a[d(146)]=i[d(120)];const _=(this[d(191)][d(239)]-2)*this.pinParams[d(167)]+this[d(191)][d(167)]/2;i.position.y>_&&(this[d(215)](i[d(246)].x),u[d(214)][d(208)](this.world,i),a[d(205)](),this[d(176)][d(129)][d(208)](c),this.ballParamsMap[d(162)](i.id))};this[x(176)][x(129)][x(136)](c);const o={path:e,start:l,fir:f};this[x(147)][x(189)](i.id,o)}[n(193)]=[];[n(178)]=[];[n(244)](e){const x=n;this[x(231)](),this[x(191)]=e;const{rows:t,startY:s,gap:r,pinRadius:f}=e;for(let l=2;l<t;l++){const b=l+1,i=(b-1)*r,a=this[x(125)]/2-i/2;for(let c=0;c<b;c++){const o=a+c*r,d=s+(l-2)*r,_=u[x(192)][x(204)](o,d,f,{isStatic:!0,label:x(186)+(l-1)+"-"+c}),p=new g()[x(204)](0,0,f)[x(159)](16777215);p.x=o,p.y=d,this[x(193)][x(149)](_),this[x(178)].push(p),u[x(214)][x(136)](this.world,_),this[x(176)][x(173)][x(182)](p)}}this[x(144)]()}dealCollisions(e){const x=n,{bodyA:t,bodyB:s}=e,r=t[x(237)]==="ball"?t:s[x(237)]==="ball"?s:null,f=t[x(237)][x(206)](x(186))?t[x(237)]:s.label[x(206)]("row-")?s.label:null,l=t[x(237)][x(206)](x(186))?t:s[x(237)][x(206)]("row-")?s:null;if(l&&this[x(166)](l),!r||!f)return;const b=r.id,i=Number[x(180)](f[x(170)]("-")[1],10),a=this.ballParamsMap.get(b);if(!a)return;const{path:c,start:o,fir:d}=a;if(!c||!d||Number[x(200)](i))return;if(i===1){const p=d==="R"?o===0?1:-1:o===0?-1.2:1.2;this[x(242)](r,p);return}const _=c[i-1];_==="R"?this[x(242)](r,1.2):_==="L"&&this[x(242)](r,-1.2)}[n(151)]=new Map;level=n(139);async createResultBox(){const e=n,x=this[e(191)].gap,t=x-2,s=this[e(191)][e(239)]-1,r=s-2,f=this[e(191)][e(227)]+r*x+x/2,l=this[e(125)]/2-s*x/2,b=this[e(191)].rows-2;for(let i=0;i<s;i++){const a=l+i*x+1,c=new M({label:e(177)+i,interactive:!0}),o=new g()[e(188)](0,0,t,14,2)[e(159)]({color:this[e(165)](b,i)}),d=new g()[e(188)](0,0,t,16,2)[e(159)]({color:this.getShadow(b,i)});d[e(246)][e(189)](0,0);const _=this[e(181)](this.level,b,i)||0,p=new Y({label:e(234)+i,text:_+`
x`,style:{fontSize:14,fill:e(135),align:e(219)},anchor:.5});p[e(246)][e(189)](t/2,8),p[e(194)].set(.4),c.addChild(d),c[e(182)](o),c[e(182)](p),c[e(246)][e(189)](a,f),this[e(151)][e(189)](i,c),this[e(176)][e(173)].addChild(c),c.on("mouseover",()=>{const F=e;this.popCallback(!0,this.getProbability(this.pinParams.rows-2,i)[F(225)](4))}),c.on(e(126),()=>{this[e(224)](!1)})}}[n(231)](){const e=n;for(const x of this[e(193)])u[e(214)].remove(this[e(148)],x);for(const x of this[e(178)])x.destroy();this[e(193)]=[],this.pinsGfx=[],this[e(151)][e(211)](x=>{x[e(205)]()}),this.resBoxMap[e(156)](),this[e(160)]=0}addXPower(e,x){u[n(145)].setVelocity(e,{x,y:0})}getBg(e,x){return O["_"+e][x]}getShadow(e,x){return $["_"+e][x]}[n(181)](e,x,t){return G[e]["_"+x][t]}[n(207)](e,x){return x0["_"+e][x]*100}setPopCb(e){const x=n;this[x(224)]=e}[n(226)](e){const x=n;this[x(153)]=e}[n(163)](e){const x=n;if(this[x(245)]=e,!!G[e])for(const[s,r]of this[x(151)]){const f=r[x(131)](x(234)+s),l=G[e]["_"+(this[x(191)][x(239)]-2)][s];f[x(154)]=l+`
x`}}findResultArea(e){const x=n;for(const[t,s]of this[x(151)][x(168)]()){const r=s.x,f=s.x+s.width;e>=r&&e<=f&&(this[x(220)](s),console[x(187)](x(169)+t))}}[n(240)](){const e=n;U.Events.on(this.engine,e(155),x=>{const t=e;for(const s of x[t(140)])this[t(222)](s)})}[n(166)](e){const x=n,t=new g;t[x(246)][x(189)](e.position.x,e[x(246)].y),this.app[x(173)][x(182)](t);const s=0,r=10,f=400,l=performance[x(230)](),b=i=>{const a=x,c=i-l,o=Math[a(127)](c/f,1),d=s+(r-s)*o,_=.9*(1-o);t[a(156)]();const p=e[a(213)]??4;t.circle(0,0,p*1.2+d)[a(159)]({color:16777215,alpha:_}),o<1?requestAnimationFrame(b):t[a(205)]()};requestAnimationFrame(b)}[n(160)]=0;[n(220)](e){const x=n,t=e[x(246)].y;this[x(160)]||(this[x(160)]=t);const s=4,r=150,f=performance[x(230)](),l=b=>{const i=x,a=b-f,c=Math[i(127)](a/r,1);e[i(246)].y=t+s*c,c<1?requestAnimationFrame(l):e.position.y=this.firstY};requestAnimationFrame(l)}tweenGroup=new D;[n(203)]=[];[n(184)]=4;[n(241)]=26;[n(195)]=26;[n(228)]=new M;[n(198)]=0;setGameRes(e){const x=n;this[x(152)]=e}[n(212)](e,x,t){const s=n,r=t?.6:1,f=[{x:0,y:this[s(195)],radius:0},{x:this[s(241)],y:this[s(195)],radius:0},{x:this.boxWidth,y:0,radius:0},{x:0,y:0,radius:0}];return e===0?(f[2].radius=4,f[3][s(157)]=4):e===this[s(184)]-1&&(f[0][s(157)]=4,f[1].radius=4),new g({label:String(x)}).roundShape(f,10).fill({color:x,alpha:r}).stroke({width:1,color:0})}[n(137)](e,x){const t=n,s=new M({interactive:!0});s[t(246)][t(189)](0,-this.boxHeight);const r=this[t(212)](this[t(198)],x),f=new Y({text:e+"x",style:{fontSize:16,fill:0},scale:.5,anchor:.5});f[t(246)].x=this[t(241)]/2,f[t(246)].y=this[t(195)]/2,s[t(182)](r),s[t(182)](f),this[t(228)][t(182)](s),this.recordArr[t(138)](s);let l;s.on(t(190),()=>{const i=t;l=this.createRoundedRect(this[i(198)],0,!0),s[i(182)](l)}),s.on("mouseout",()=>{const i=t;l&&(s[i(238)](l),l?.[i(205)](),l=null)}),s.on(t(201),()=>{const i=t;console[i(187)]("显示游戏结果事件"),this.recordCallback&&this[i(153)]()}),this.recordCount++,this[t(198)]===4&&(this[t(198)]=1),this[t(203)][t(211)]((i,a)=>{const c=t,o=a*this[c(195)];if(this.recordArr.length>1){const d=this[c(203)][a],_=d[c(238)](d[c(179)][0]),p=_[c(237)];_[c(205)](),this.recordArr[a][c(182)](this[c(212)](a,Number(p))),this[c(203)][a][c(179)][c(217)]()}new E(i.position,this[c(248)]).to({y:o},200)[c(128)]()});const b=i=>{const a=t;this[a(248)][a(123)](i.lastTime)};if(this.recordArr[t(185)]>this[t(184)]){const i=this[t(203)][t(233)]();new E(i.position,this.tweenGroup).to({alpha:0},150)[t(183)](()=>{const a=t;this[a(176)][a(129)][a(208)](b),this.stackBox[a(238)](i),i?.destroy()})[t(128)]()}this[t(176)].ticker.add(b)}}function R(){const h=["1295036KUBZiX","length","characters","get","test","help","10TgIVBq","请输入 10 位路径，仅允许 L 或 R","relative","counter","path-help","target","input","createPinsAndResultBoxes","setBallConfig","6985320bMQtBR","ballConfig","1408854HmTXjr","air","例如：LRRLLRLR","AppPlinko","split","6CJgPhQ","34sWlKcy","slice","24036IAGlzY","仅允许填写字符 L 或 R","toUpperCase","value","radius"," 位，请填写 10 位","span","container","682pPZIJQ","pins","#1e1e1e","当前 ","150220WzUaLD"," 开始游戏 ","disabled","init","div","button","2 秒允许点击一次","start-btn","63ohUWFA","aria-invalid","2098187BZFzBT","off","false","label","createBall","20388pcRpEj"];return R=function(){return h},R()}const w=k;function k(h,e){const x=R();return k=function(t,s){return t=t-205,x[t]},k(h,e)}(function(h,e){const x=k,t=h();for(;;)try{if(parseInt(x(234))/1*(parseInt(x(236))/2)+-parseInt(x(233))/3*(-parseInt(x(211))/4)+-parseInt(x(217))/5*(-parseInt(x(228))/6)+parseInt(x(205))/7+-parseInt(x(226))/8+-parseInt(x(256))/9*(parseInt(x(248))/10)+-parseInt(x(244))/11*(parseInt(x(210))/12)===e)break;t.push(t.shift())}catch{t.push(t.shift())}})(R,741832);const t0={class:w(219)},s0={class:w(219)},a0={class:"input-wrap"},i0=[w(257)],n0={class:"hint-row"},c0={key:0,id:w(221),class:w(216)},o0={class:w(220)},r0={class:"w-full flex justify-center items-center"},d0=[w(250)],f0=10,l0=X({__name:w(231),setup(h){const e=w,x=P(null);let t;const s=P(""),r=L(()=>/^[LR]{10}$/[e(215)](s[e(239)])),f=P(!1),l=L(()=>{const a=e;return s[a(239)]?/[^LR]/[a(215)](s.value)?a(237):s.value[a(212)]!==10?a(247)+s[a(239)][a(212)]+a(241):"":a(218)});function b(a){const c=e,o=a[c(222)],d=o.value[c(238)]().replace(/[^LR]/g,"")[c(235)](0,10);s[c(239)]=d}async function i(){const a=e;if(!r[a(239)]||f[a(239)]||!t)return;f[a(239)]=!0;const c=s[a(239)][a(232)]("");t[a(209)](c),setTimeout(()=>f[a(239)]=!1,400)}return j(async()=>{const a=e,c=Z[a(214)](10);x[a(239)]&&(t=new e0(x.value),await t[a(251)](300,276,a(246)),await t[a(224)](c?.[a(245)]??{rows:12,startY:24,gap:24,pinRadius:4}),t[a(225)](c?.[a(227)][a(240)],c?.[a(227)][a(229)]))}),(a,c)=>{const o=e;return z(),T(o(252),t0,[m(o(252),s0,[m(o(252),{ref_key:o(243),ref:x,class:"container"},null,512)]),m(o(252),a0,[c[1]||(c[1]=m("label",{class:o(208),for:"path"},"投球路径（10 位，仅 L/R）",-1)),q(m(o(223),{id:"path",class:W(["input-control",{invalid:!r[o(239)]&&s[o(239)]}]),type:"text","onUpdate:modelValue":c[0]||(c[0]=d=>s[o(239)]=d),maxlength:f0,placeholder:o(230),onInput:b,autocomplete:o(206),autocapitalize:o(213),spellcheck:o(207),"aria-describedby":o(221),"aria-invalid":!r[o(239)]},null,42,i0),[[N,s[o(239)]]]),m(o(252),n0,[l.value?(z(),T(o(242),c0,S(l[o(239)]),1)):K("",!0),m(o(242),o0,S(s.value[o(212)])+"/10",1)])]),m("div",r0,[m(o(253),{class:o(255),disabled:!r[o(239)]||f[o(239)],onClick:i,title:o(254)},o(249),8,d0)])])}}});var V=B;(function(h,e){for(var x=B,t=h();;)try{var s=parseInt(x(214))/1*(-parseInt(x(215))/2)+-parseInt(x(209))/3*(parseInt(x(217))/4)+parseInt(x(213))/5+parseInt(x(212))/6+-parseInt(x(208))/7+parseInt(x(216))/8+parseInt(x(206))/9*(parseInt(x(211))/10);if(s===e)break;t.push(t.shift())}catch{t.push(t.shift())}})(A,103195);function B(h,e){var x=A();return B=function(t,s){t=t-206;var r=x[t];return r},B(h,e)}function A(){var h=["15apBEbW","__scopeId","50yrNkej","1020162jBvpoF","969595ACWswY","43bmFkgd","7606YGLcBK","876656opbAGV","147180UoqxXs","63036bUQjCe","data-v-cb23dd70","404943kDlFPV"];return A=function(){return h},A()}const u0=J(l0,[[V(210),V(207)]]);export{u0 as A,J as _};
