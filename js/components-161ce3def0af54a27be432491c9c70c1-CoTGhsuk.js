import{d as F,r as G,c as E,o as X,a as S,b as q,e as u,w as Y,v as H,n as V,f as K,t as D}from"./vendor-q4_JwtHI.js";import{A as W,G as g,C as L,B as N}from"./vendor-pixi-js-CqIIzDVx.js";import{m as I,_ as w}from"./vendor-matter-js-BQ72DKUX.js";import{G as U,T as O}from"./vendor-tweenjs-BtMkXI7v.js";const Z=(h,t)=>{const x=h.__vccOpts||h;for(const[e,s]of t)x[e]=s;return x};(function(h,t){const x=v,e=h();for(;;)try{if(-parseInt(x(329))/1*(-parseInt(x(331))/2)+-parseInt(x(333))/3*(-parseInt(x(330))/4)+-parseInt(x(335))/5*(parseInt(x(327))/6)+-parseInt(x(338))/7+parseInt(x(332))/8*(-parseInt(x(334))/9)+parseInt(x(326))/10+-parseInt(x(328))/11===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(R,330684);function v(h,t){const x=R();return v=function(e,s){return e=e-326,x[e]},v(h,t)}function R(){const h=["130620GBcDWy","2331ZNrMKX","31005nyuEKN","map","reduce","1068263dOvCMR","2308360utHkGn","180kuCoJK","587818yKDjXC","2sDWnLp","40reytdi","197162bRlErI","4344qdVeRt"];return R=function(){return h},R()}function j(){const h=r=>{const d=v,f=r[d(337)]((n,a)=>n+a,0);return r[d(336)](n=>n/f)},t={low:{_10:[8.9,3,1.4,1.1,1,.5,1,1.1,1.4,3,8.9]},middle:{_10:[22,5,2,1.4,.6,.4,.6,1.4,2,5,22]},high:{_10:[76,10,3,.9,.3,.2,.3,.9,3,10,76]}},x={_10:h([1,10,45,120,210,252,210,120,45,10,1])};return{resText:t,probabilities:x,colors:{_10:[1357990,440020,3718648,5195493,9133302,59135,9133302,5195493,3718648,440020,1357990]},shadows:{_10:[1020292,561586,959977,4405450,7153881,42956,7153881,4405450,959977,561586,1020292]}}}const J=new Map([[10,{pins:{rows:12,startY:24,gap:24,pinRadius:4},ballConfig:{radius:6,air:.12}}]]);function C(h,t){const x=k();return C=function(e,s){return e=e-130,x[e]},C(h,t)}function k(){const h=["Runner","maxCount","onComplete","positionIterations","pop","timeScale","circle","text","createBall","setGameRes","destroy","split","startsWith","min","appendChild","recordCallback","init","toFixed","pinsGfx","显示游戏结果事件","roundShape","ballRadius","style","pinAnimal","getBg","dealCollisions","mouseover","setPopCb","row-","createResultBox","removeChild","ball","lastTime","frictionAir","4585070RzXVqz","Ball hit result box ","createPinsAndResultBoxes","res-","gap","addChild","listenCollisions","update","clear","app","now","resBoxAnimal","gameRes","getShadow","firstY","label","setBallConfig","ballParamsMap","249746FLJUwK","3mqTdSw","clearPinsAndRes","forEach","timing","stage","low","createRoundedRect","Body","remove","6732464PktDhS","push","world","devicePixelRatio","setVelocity","scale","recordCount","setRecordClickCb","boxWidth","95YAqjKT","Composite","nonCollideGroup","circleRadius","tickerFn","224682bXCvMP","popCallback","#000","addRecord","width","setLevel","radius","create","fill","boxHeight","angle","getChildByLabel","stackBox","ballConfig","getProbability","run","9BauEHZ","Bodies","rows","roundRect","height","1080708IyVwOU","velocityIterations","engine","tweenGroup","length","924716hGYqkJ","stroke","position","777682WltZqI","canvas","getText","nextGroup","parseInt","addXPower","resBoxMap","pairs","mouseout","add","set","recordArr","click","pinsMatter","runner","findResultArea","reverse","children","pinParams","log","level"];return k=function(){return h},k()}const i=C;(function(h,t){const x=C,e=h();for(;;)try{if(-parseInt(x(255))/1+parseInt(x(252))/2+-parseInt(x(203))/3*(-parseInt(x(247))/4)+parseInt(x(221))/5*(-parseInt(x(226))/6)+-parseInt(x(202))/7+-parseInt(x(212))/8*(-parseInt(x(242))/9)+parseInt(x(184))/10===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(k,507747);const{colors:Q,shadows:$,resText:T,probabilities:x0}=j();class t0{id=1;[i(130)];[i(193)];[i(249)];[i(214)];[i(143)];[i(230)];[i(246)];[i(225)];[i(201)]=new Map;[i(147)]={};[i(223)]=I.Body[i(132)](!0);[i(239)]={ballRadius:4,frictionAir:.05};[i(227)];[i(165)];[i(196)];constructor(t){const x=i;this[x(130)]=document.createElement(x(130)),t[x(164)](this[x(130)]),this[x(193)]=new W,this[x(249)]=I.Engine[x(233)](),this.world=this[x(249)][x(214)],this.runner=w[x(150)][x(233)](),this.engine[x(153)]=10,this.engine[x(248)]=10,this[x(249)][x(206)][x(155)]=2}async[i(166)](t,x,e){const s=i;this[s(230)]=t,this[s(246)]=x,this.canvas[s(172)].width=t+"px",this[s(130)][s(172)][s(246)]=x+"px",this.stackBox[s(254)][s(139)](this[s(230)]-45,this[s(246)]/4),this[s(193)][s(207)][s(189)](this[s(238)]),await this.app.init({canvas:this[s(130)],width:t,height:x,background:e,antialias:!0,resolution:window[s(215)]}),w[s(150)][s(241)](this[s(143)],this[s(249)]),this[s(190)]()}[i(200)](t,x){const e=i;this[e(239)]={ballRadius:t,frictionAir:x}}[i(158)](t){const x=i,e=this[x(230)]/2,s=[e,e+this.pinParams[x(188)]],r=[e,e-this[x(147)].gap],d=t[0],f=Math.floor(Math.random()*2),_=d==="R"?s[f]:r[f],n=w[x(243)].circle(_,0,this[x(239)][x(171)],{id:this.id++,label:x(181),mass:1,restitution:0,friction:0,frictionAir:this.ballConfig[x(183)],collisionFilter:{group:this[x(223)]}}),a=new g()[x(156)](0,0,this[x(239)][x(171)])[x(234)](16733525);a[x(254)][x(139)](n[x(254)].x,n[x(254)].y),w[x(222)][x(138)](this[x(214)],n),this[x(193)][x(207)][x(189)](a);const c=()=>{const l=x;a[l(254)][l(139)](n[l(254)].x,n.position.y),a.rotation=n[l(236)];const b=(this[l(147)].rows-2)*this.pinParams[l(188)]+this[l(147)].gap/2;n.position.y>b&&(this[l(144)](n[l(254)].x),I.Composite.remove(this[l(214)],n),a[l(160)](),this[l(193)].ticker[l(211)](c),this[l(201)].delete(n.id))};this[x(193)].ticker[x(138)](c);const o={path:t,start:f,fir:d};this.ballParamsMap[x(139)](n.id,o)}[i(142)]=[];pinsGfx=[];[i(186)](t){const x=i;this[x(204)](),this[x(147)]=t;const{rows:e,startY:s,gap:r,pinRadius:d}=t;for(let f=2;f<e;f++){const _=f+1,n=(_-1)*r,a=this[x(230)]/2-n/2;for(let c=0;c<_;c++){const o=a+c*r,l=s+(f-2)*r,b=I.Bodies[x(156)](o,l,d,{isStatic:!0,label:"row-"+(f-1)+"-"+c}),p=new g()[x(156)](0,0,d)[x(234)](16777215);p.x=o,p.y=l,this[x(142)][x(213)](b),this[x(168)][x(213)](p),w[x(222)][x(138)](this[x(214)],b),this[x(193)][x(207)][x(189)](p)}}this[x(179)]()}[i(175)](t){const x=i,{bodyA:e,bodyB:s}=t,r=e.label===x(181)?e:s[x(199)]===x(181)?s:null,d=e[x(199)].startsWith("row-")?e[x(199)]:s[x(199)][x(162)](x(178))?s[x(199)]:null,f=e[x(199)][x(162)](x(178))?e:s[x(199)][x(162)](x(178))?s:null;if(f&&this[x(173)](f),!r||!d)return;const _=r.id,n=Number[x(133)](d[x(161)]("-")[1],10),a=this[x(201)].get(_);if(!a)return;const{path:c,start:o,fir:l}=a;if(!c||!l||Number.isNaN(n))return;if(n===1){const p=l==="R"?o===0?1:-1:o===0?-1.2:1.2;this[x(134)](r,p);return}const b=c[n-1];b==="R"?this[x(134)](r,1.2):b==="L"&&this.addXPower(r,-1.2)}[i(135)]=new Map;[i(149)]=i(208);async[i(179)](){const t=i,x=this[t(147)][t(188)],e=x-2,s=this[t(147)][t(244)]-1,r=s-2,d=this[t(147)].startY+r*x+x/2,f=this.width/2-s*x/2,_=this.pinParams[t(244)]-2;for(let n=0;n<s;n++){const a=f+n*x+1,c=new L({label:t(187)+n,interactive:!0}),o=new g()[t(245)](0,0,e,14,2)[t(234)]({color:this[t(174)](_,n)}),l=new g()[t(245)](0,0,e,16,2)[t(234)]({color:this[t(197)](_,n)});l[t(254)][t(139)](0,0);const b=this[t(131)](this.level,_,n)||0,p=new N({label:"res-text-"+n,text:b+`
x`,style:{fontSize:14,fill:t(228),align:"center"},anchor:.5});p[t(254)].set(e/2,8),p[t(217)][t(139)](.4),c[t(189)](l),c[t(189)](o),c[t(189)](p),c[t(254)][t(139)](a,d),this[t(135)][t(139)](n,c),this[t(193)][t(207)][t(189)](c),c.on(t(176),()=>{const y=t;this.popCallback(!0,this[y(240)](this.pinParams[y(244)]-2,n)[y(167)](4))}),c.on(t(137),()=>{this[t(227)](!1)})}}[i(204)](){const t=i;for(const x of this.pinsMatter)w[t(222)].remove(this[t(214)],x);for(const x of this[t(168)])x[t(160)]();this.pinsMatter=[],this.pinsGfx=[],this[t(135)][t(205)](x=>{x[t(160)]()}),this.resBoxMap[t(192)](),this[t(198)]=0}[i(134)](t,x){const e=i;w[e(210)][e(216)](t,{x,y:0})}[i(174)](t,x){return Q["_"+t][x]}[i(197)](t,x){return $["_"+t][x]}getText(t,x,e){return T[t]["_"+x][e]}getProbability(t,x){return x0["_"+t][x]*100}[i(177)](t){const x=i;this[x(227)]=t}[i(219)](t){const x=i;this[x(165)]=t}[i(231)](t){const x=i;if(this.level=t,!!T[t])for(const[s,r]of this.resBoxMap){const d=r[x(237)]("res-text-"+s),f=T[t]["_"+(this.pinParams[x(244)]-2)][s];d[x(157)]=f+`
x`}}[i(144)](t){const x=i;for(const[e,s]of this.resBoxMap.entries()){const r=s.x,d=s.x+s.width;t>=r&&t<=d&&(this[x(195)](s),console[x(148)](x(185)+e))}}listenCollisions(){const t=i;I.Events.on(this[t(249)],"collisionStart",x=>{const e=t;for(const s of x[e(136)])this[e(175)](s)})}[i(173)](t){const x=i,e=new g;e[x(254)][x(139)](t[x(254)].x,t[x(254)].y),this.app.stage[x(189)](e);const s=0,r=10,d=400,f=performance[x(194)](),_=n=>{const a=x,c=n-f,o=Math[a(163)](c/d,1),l=s+(r-s)*o,b=.9*(1-o);e[a(192)]();const p=t[a(224)]??4;e[a(156)](0,0,p*1.2+l)[a(234)]({color:16777215,alpha:b}),o<1?requestAnimationFrame(_):e[a(160)]()};requestAnimationFrame(_)}[i(198)]=0;[i(195)](t){const x=i,e=t.position.y;this[x(198)]||(this[x(198)]=e);const s=4,r=150,d=performance[x(194)](),f=_=>{const n=x,a=_-d,c=Math[n(163)](a/r,1);t.position.y=e+s*c,c<1?requestAnimationFrame(f):t.position.y=this.firstY};requestAnimationFrame(f)}tweenGroup=new U;[i(140)]=[];[i(151)]=4;[i(220)]=26;boxHeight=26;stackBox=new L;[i(218)]=0;[i(159)](t){const x=i;this[x(196)]=t}[i(209)](t,x,e){const s=i,r=e?.6:1,d=[{x:0,y:this.boxHeight,radius:0},{x:this[s(220)],y:this[s(235)],radius:0},{x:this.boxWidth,y:0,radius:0},{x:0,y:0,radius:0}];return t===0?(d[2][s(232)]=4,d[3][s(232)]=4):t===this[s(151)]-1&&(d[0][s(232)]=4,d[1][s(232)]=4),new g({label:String(x)})[s(170)](d,10)[s(234)]({color:x,alpha:r})[s(253)]({width:1,color:0})}[i(229)](t,x){const e=i,s=new L({interactive:!0});s[e(254)][e(139)](0,-this[e(235)]);const r=this.createRoundedRect(this[e(218)],x),d=new N({text:t+"x",style:{fontSize:16,fill:0},scale:.5,anchor:.5});d[e(254)].x=this[e(220)]/2,d.position.y=this.boxHeight/2,s[e(189)](r),s[e(189)](d),this[e(238)][e(189)](s),this[e(140)].unshift(s);let f;s.on("mouseover",()=>{const n=e;f=this[n(209)](this[n(218)],0,!0),s[n(189)](f)}),s.on(e(137),()=>{const n=e;f&&(s[n(180)](f),f?.[n(160)](),f=null)}),s.on(e(141),()=>{const n=e;console[n(148)](n(169)),this.recordCallback&&this[n(165)]()}),this[e(218)]++,this.recordCount===4&&(this[e(218)]=1),this[e(140)][e(205)]((n,a)=>{const c=e,o=a*this[c(235)];if(this[c(140)][c(251)]>1){const l=this[c(140)][a],b=l.removeChild(l[c(146)][0]),p=b[c(199)];b[c(160)](),this[c(140)][a][c(189)](this[c(209)](a,Number(p))),this.recordArr[a][c(146)][c(145)]()}new O(n.position,this[c(250)]).to({y:o},200).start()});const _=n=>{const a=e;this.tweenGroup[a(191)](n[a(182)])};if(this[e(140)][e(251)]>this[e(151)]){const n=this.recordArr[e(154)]();new O(n[e(254)],this.tweenGroup).to({alpha:0},150)[e(152)](()=>{const a=e;this[a(193)].ticker.remove(_),this[a(238)][a(180)](n),n?.destroy()}).start()}this[e(193)].ticker.add(_)}}const m=B;(function(h,t){const x=B,e=h();for(;;)try{if(-parseInt(x(456))/1*(parseInt(x(495))/2)+-parseInt(x(476))/3+parseInt(x(457))/4*(parseInt(x(497))/5)+parseInt(x(459))/6*(parseInt(x(455))/7)+parseInt(x(498))/8+-parseInt(x(470))/9*(parseInt(x(466))/10)+parseInt(x(477))/11===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(A,780401);function B(h,t){const x=A();return B=function(e,s){return e=e-448,x[e]},B(h,t)}const e0={class:m(488)},s0={class:m(488)},a0={class:m(489)},i0=[m(453)],n0={class:"hint-row"},c0={key:0,id:m(449),class:"help"},o0={class:m(478)},r0={class:m(451)},d0=["disabled"];function A(){const h=["path-help","pins","w-full flex justify-center items-center","div","aria-invalid","slice","2260237lixZtw","70534cOFrhX","138100PRDdxy","#1e1e1e","6sdSDoZ","仅允许填写字符 L 或 R","test","input","radius","例如：LRRLLRLR"," 开始游戏 ","6895320wgwuZP","init","off","当前 ","18loEOhH","span","value","ballConfig","false","input-control","4291155UEAKUO","33387288jMipAX","counter","label","characters","length","2 秒允许点击一次","path","replace","target"," 位，请填写 10 位","AppPlinko","relative","input-wrap","start-btn","get","split","请输入 10 位路径，仅允许 L 或 R","button","16himBWn","container","95OMruDI","1120384wwUnNV","toUpperCase"];return A=function(){return h},A()}const f0=10,l0=F({__name:m(487),setup(h){const t=m,x=G(null);let e;const s=G(""),r=E(()=>/^[LR]{10}$/[t(461)](s[t(472)])),d=G(!1),f=E(()=>{const a=t;return s[a(472)]?/[^LR]/[a(461)](s[a(472)])?a(460):s[a(472)][a(481)]!==10?a(469)+s[a(472)][a(481)]+a(486):"":a(493)});function _(a){const c=t,o=a[c(485)],l=o[c(472)][c(448)]()[c(484)](/[^LR]/g,"")[c(454)](0,10);s[c(472)]=l}async function n(){const a=t;if(!r[a(472)]||d[a(472)]||!e)return;d[a(472)]=!0;const c=s.value[a(492)]("");e.createBall(c),setTimeout(()=>d[a(472)]=!1,400)}return X(async()=>{const a=t,c=J[a(491)](10);x[a(472)]&&(e=new t0(x[a(472)]),await e[a(467)](300,276,a(458)),await e.createPinsAndResultBoxes(c?.[a(450)]??{rows:12,startY:24,gap:24,pinRadius:4}),e.setBallConfig(c?.[a(473)][a(463)],c?.ballConfig.air))}),(a,c)=>{const o=t;return q(),S("div",e0,[u(o(452),s0,[u(o(452),{ref_key:o(496),ref:x,class:o(496)},null,512)]),u(o(452),a0,[c[1]||(c[1]=u(o(479),{class:o(479),for:o(483)},"投球路径（10 位，仅 L/R）",-1)),Y(u(o(462),{id:"path",class:V([o(475),{invalid:!r[o(472)]&&s[o(472)]}]),type:"text","onUpdate:modelValue":c[0]||(c[0]=l=>s[o(472)]=l),maxlength:f0,placeholder:o(464),onInput:_,autocomplete:o(468),autocapitalize:o(480),spellcheck:o(474),"aria-describedby":"path-help","aria-invalid":!r.value},null,42,i0),[[H,s[o(472)]]]),u(o(452),n0,[f[o(472)]?(q(),S(o(471),c0,D(f[o(472)]),1)):K("",!0),u(o(471),o0,D(s.value[o(481)])+"/10",1)])]),u("div",r0,[u(o(494),{class:o(490),disabled:!r.value||d[o(472)],onClick:n,title:o(482)},o(465),8,d0)])])}}});var z=P;function M(){var h=["46XODKtg","2833215CMEhVY","1364553lgbzqO","51168jtTvaG","39ENzvbZ","44467TQHAzY","309020OOsswX","30IiqQPI","323980GSJabu","__scopeId","1450872HJAuDy","data-v-cb23dd70","91zMjckR"];return M=function(){return h},M()}(function(h,t){for(var x=P,e=h();;)try{var s=-parseInt(x(345))/1*(-parseInt(x(340))/2)+parseInt(x(344))/3*(-parseInt(x(348))/4)+parseInt(x(346))/5+-parseInt(x(337))/6+-parseInt(x(339))/7*(-parseInt(x(343))/8)+parseInt(x(342))/9*(parseInt(x(347))/10)+parseInt(x(341))/11;if(s===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(M,585362);function P(h,t){var x=M();return P=function(e,s){e=e-336;var r=x[e];return r},P(h,t)}const u0=Z(l0,[[z(336),z(338)]]);export{u0 as A,Z as _};
