import{d as W,r as L,c as F,o as O,a as S,b as z,e as m,w as Q,v as q,n as H,f as K,t as Y}from"./vendor-q4_JwtHI.js";import{A as j,G as g,C as M,B as N}from"./vendor-pixi-js-CqIIzDVx.js";import{_ as w,m as y}from"./vendor-matter-js-BQ72DKUX.js";import{G as J,T as D}from"./vendor-tweenjs-BtMkXI7v.js";const V=(d,t)=>{const x=d.__vccOpts||d;for(const[e,s]of t)x[e]=s;return x};(function(d,t){const x=T,e=d();for(;;)try{if(-parseInt(x(314))/1+parseInt(x(318))/2*(-parseInt(x(313))/3)+-parseInt(x(319))/4+-parseInt(x(316))/5+-parseInt(x(311))/6+parseInt(x(315))/7*(-parseInt(x(317))/8)+parseInt(x(312))/9===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(I,132761);function T(d,t){const x=I();return T=function(e,s){return e=e-311,x[e]},T(d,t)}function X(){const d=c=>{const f=c.reduce((_,n)=>_+n,0);return c.map(_=>_/f)},t={low:{_10:[8.9,3,1.4,1.1,1,.5,1,1.1,1.4,3,8.9]},middle:{_10:[22,5,2,1.4,.6,.4,.6,1.4,2,5,22]},high:{_10:[76,10,3,.9,.3,.2,.3,.9,3,10,76]}},x={_10:d([1,10,45,120,210,252,210,120,45,10,1])};return{resText:t,probabilities:x,colors:{_10:[1357990,440020,3718648,5195493,9133302,59135,9133302,5195493,3718648,440020,1357990]},shadows:{_10:[1020292,561586,959977,4405450,7153881,42956,7153881,4405450,959977,561586,1020292]}}}function I(){const d=["58dLIdgF","151752MfkkXT","631506XDTWzT","7027290yKQnOl","25719JUJtGs","23493BxepSF","1729rgacpp","1005670mylKtL","1024SpcraO"];return I=function(){return d},I()}const U=new Map([[10,{pins:{rows:12,startY:24,gap:24,pinRadius:4},ballConfig:{radius:6,air:.12}}]]);function R(d,t){const x=C();return R=function(e,s){return e=e-234,x[e]},R(d,t)}const a=R;(function(d,t){const x=R,e=d();for(;;)try{if(-parseInt(x(357))/1+-parseInt(x(302))/2+-parseInt(x(239))/3+-parseInt(x(236))/4*(-parseInt(x(322))/5)+-parseInt(x(262))/6*(-parseInt(x(349))/7)+-parseInt(x(310))/8*(parseInt(x(284))/9)+parseInt(x(289))/10===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(C,566131);function C(){const d=["Ball hit result box ","boxWidth","frictionAir","children","timing","Composite","get","boxHeight","tweenGroup","setRecordClickCb","collisionStart","app","stage","gameRes","row-","dealCollisions","60781vOBFAT","world","listenCollisions","push","level","#000","getShadow","destroy","465275BCkxQN","createElement","nonCollideGroup","getText","5548HFeNDY","click","low","2458536ghigrH","res-","set","length","random","setPopCb","ballRadius","scale","stackBox","circleRadius","setBallConfig","ball","width","clearPinsAndRes","reverse","runner","Bodies","circle","pinParams","clear","mouseover","Runner","label","558GOjOrn","pinsMatter","gap","start","startY","popCallback","init","appendChild","tickerFn","position","forEach","text","recordArr","removeChild","addXPower","nextGroup","getChildByLabel","createBall","remove","createResultBox","maxCount","log","63KLRhla","ballConfig","findResultArea","floor","now","15417730XshTYz","canvas","mouseout","fill","recordCallback","startsWith","pinsGfx","getProbability","split","add","roundShape","update","setGameRes","1356918DPinGs","显示游戏结果事件","style","Events","unshift","setVelocity","addChild","radius","109632ItHEPM","resBoxMap","firstY","addRecord","angle","recordCount","rows","resBoxAnimal","Body","roundRect","ticker","getBg","995kznkQx","ballParamsMap","engine","stroke","res-text-","min","positionIterations","height","delete","create","createRoundedRect"];return C=function(){return d},C()}const{colors:Z,shadows:$,resText:G,probabilities:x0}=X();class t0{id=1;[a(290)];[a(344)];engine;[a(350)];[a(254)];[a(251)];[a(329)];[a(270)];[a(323)]=new Map;[a(257)]={};[a(234)]=w[a(318)][a(277)](!0);[a(285)]={ballRadius:4,frictionAir:.05};[a(267)];[a(293)];[a(346)];constructor(t){const x=a;this.canvas=document[x(358)]("canvas"),t[x(269)](this.canvas),this[x(344)]=new j,this[x(324)]=y.Engine.create(),this[x(350)]=this[x(324)][x(350)],this.runner=w[x(260)][x(331)](),this[x(324)][x(328)]=10,this.engine.velocityIterations=10,this.engine[x(337)].timeScale=2}async[a(268)](t,x,e){const s=a;this[s(251)]=t,this[s(329)]=x,this[s(290)].style[s(251)]=t+"px",this.canvas[s(304)][s(329)]=x+"px",this[s(247)].position.set(this[s(251)]-45,this.height/4),this[s(344)][s(345)][s(308)](this[s(247)]),await this.app.init({canvas:this[s(290)],width:t,height:x,background:e,antialias:!0,resolution:window.devicePixelRatio}),y.Runner.run(this.runner,this[s(324)]),this[s(351)]()}[a(249)](t,x){const e=a;this[e(285)]={ballRadius:t,frictionAir:x}}[a(279)](t){const x=a,e=this[x(251)]/2,s=[e,e+this[x(257)][x(264)]],c=[e,e-this[x(257)][x(264)]],f=t[0],h=Math[x(287)](Math[x(243)]()*2),_=f==="R"?s[h]:c[h],n=w[x(255)].circle(_,0,this[x(285)][x(245)],{id:this.id++,label:x(250),mass:1,restitution:0,friction:0,frictionAir:this[x(285)][x(335)],collisionFilter:{group:this[x(234)]}}),i=new g()[x(256)](0,0,this[x(285)][x(245)])[x(292)](16733525);i[x(271)].set(n[x(271)].x,n.position.y),w[x(338)][x(298)](this[x(350)],n),this[x(344)][x(345)][x(308)](i);const r=()=>{const l=x;i[l(271)].set(n[l(271)].x,n[l(271)].y),i.rotation=n[l(314)];const p=(this[l(257)][l(316)]-2)*this.pinParams.gap+this.pinParams.gap/2;n[l(271)].y>p&&(this[l(286)](n[l(271)].x),w[l(338)][l(280)](this[l(350)],n),i.destroy(),this[l(344)][l(320)].remove(r),this[l(323)][l(330)](n.id))};this[x(344)][x(320)][x(298)](r);const o={path:t,start:h,fir:f};this[x(323)][x(241)](n.id,o)}[a(263)]=[];[a(295)]=[];createPinsAndResultBoxes(t){const x=a;this.clearPinsAndRes(),this[x(257)]=t;const{rows:e,startY:s,gap:c,pinRadius:f}=t;for(let h=2;h<e;h++){const _=h+1,n=(_-1)*c,i=this.width/2-n/2;for(let r=0;r<_;r++){const o=i+r*c,l=s+(h-2)*c,p=w[x(255)][x(256)](o,l,f,{isStatic:!0,label:x(347)+(h-1)+"-"+r}),u=new g().circle(0,0,f)[x(292)](16777215);u.x=o,u.y=l,this[x(263)].push(p),this[x(295)][x(352)](u),y.Composite.add(this[x(350)],p),this.app[x(345)][x(308)](u)}}this.createResultBox()}[a(348)](t){const x=a,{bodyA:e,bodyB:s}=t,c=e[x(261)]===x(250)?e:s[x(261)]==="ball"?s:null,f=e.label[x(294)](x(347))?e.label:s[x(261)].startsWith("row-")?s[x(261)]:null,h=e[x(261)].startsWith(x(347))?e:s[x(261)][x(294)](x(347))?s:null;if(h&&this.pinAnimal(h),!c||!f)return;const _=c.id,n=Number.parseInt(f[x(297)]("-")[1],10),i=this[x(323)][x(339)](_);if(!i)return;const{path:r,start:o,fir:l}=i;if(!r||!l||Number.isNaN(n))return;if(n===1){const u=l==="R"?o===0?1:-1:o===0?-1.2:1.2;this[x(276)](c,u);return}const p=r[n-1];p==="R"?this[x(276)](c,1.2):p==="L"&&this[x(276)](c,-1.2)}[a(311)]=new Map;level=a(238);async[a(281)](){const t=a,x=this.pinParams[t(264)],e=x-2,s=this[t(257)][t(316)]-1,c=s-2,f=this[t(257)][t(266)]+c*x+x/2,h=this.width/2-s*x/2,_=this[t(257)].rows-2;for(let n=0;n<s;n++){const i=h+n*x+1,r=new M({label:t(240)+n,interactive:!0}),o=new g()[t(319)](0,0,e,14,2)[t(292)]({color:this[t(321)](_,n)}),l=new g()[t(319)](0,0,e,16,2)[t(292)]({color:this[t(355)](_,n)});l[t(271)].set(0,0);const p=this[t(235)](this[t(353)],_,n)||0,u=new N({label:t(326)+n,text:p+`
x`,style:{fontSize:14,fill:t(354),align:"center"},anchor:.5});u[t(271)].set(e/2,8),u[t(246)][t(241)](.4),r[t(308)](l),r.addChild(o),r[t(308)](u),r[t(271)].set(i,f),this[t(311)][t(241)](n,r),this[t(344)][t(345)][t(308)](r),r.on(t(259),()=>{const v=t;this.popCallback(!0,this[v(296)](this[v(257)][v(316)]-2,n).toFixed(4))}),r.on(t(291),()=>{this[t(267)](!1)})}}[a(252)](){const t=a;for(const x of this.pinsMatter)y.Composite[t(280)](this[t(350)],x);for(const x of this.pinsGfx)x.destroy();this[t(263)]=[],this[t(295)]=[],this[t(311)][t(272)](x=>{x.destroy()}),this[t(311)].clear(),this.firstY=0}[a(276)](t,x){const e=a;w[e(318)][e(307)](t,{x,y:0})}[a(321)](t,x){return Z["_"+t][x]}[a(355)](t,x){return $["_"+t][x]}[a(235)](t,x,e){return G[t]["_"+x][e]}[a(296)](t,x){return x0["_"+t][x]*100}[a(244)](t){const x=a;this[x(267)]=t}[a(342)](t){const x=a;this[x(293)]=t}setLevel(t){const x=a;if(this[x(353)]=t,!!G[t])for(const[s,c]of this[x(311)]){const f=c[x(278)]("res-text-"+s),h=G[t]["_"+(this[x(257)].rows-2)][s];f[x(273)]=h+`
x`}}[a(286)](t){const x=a;for(const[e,s]of this[x(311)].entries()){const c=s.x,f=s.x+s[x(251)];t>=c&&t<=f&&(this[x(317)](s),console.log(x(333)+e))}}listenCollisions(){const t=a;w[t(305)].on(this[t(324)],t(343),x=>{const e=t;for(const s of x.pairs)this[e(348)](s)})}pinAnimal(t){const x=a,e=new g;e[x(271)][x(241)](t[x(271)].x,t.position.y),this[x(344)].stage[x(308)](e);const s=0,c=10,f=400,h=performance[x(288)](),_=n=>{const i=x,r=n-h,o=Math[i(327)](r/f,1),l=s+(c-s)*o,p=.9*(1-o);e[i(258)]();const u=t[i(248)]??4;e[i(256)](0,0,u*1.2+l)[i(292)]({color:16777215,alpha:p}),o<1?requestAnimationFrame(_):e.destroy()};requestAnimationFrame(_)}[a(312)]=0;[a(317)](t){const x=a,e=t[x(271)].y;this.firstY||(this[x(312)]=e);const s=4,c=150,f=performance.now(),h=_=>{const n=x,i=_-f,r=Math[n(327)](i/c,1);t[n(271)].y=e+s*r,r<1?requestAnimationFrame(h):t.position.y=this[n(312)]};requestAnimationFrame(h)}[a(341)]=new J;[a(274)]=[];[a(282)]=4;[a(334)]=26;[a(340)]=26;stackBox=new M;recordCount=0;[a(301)](t){const x=a;this[x(346)]=t}[a(332)](t,x,e){const s=a,c=e?.6:1,f=[{x:0,y:this[s(340)],radius:0},{x:this[s(334)],y:this[s(340)],radius:0},{x:this[s(334)],y:0,radius:0},{x:0,y:0,radius:0}];return t===0?(f[2][s(309)]=4,f[3][s(309)]=4):t===this.maxCount-1&&(f[0].radius=4,f[1][s(309)]=4),new g({label:String(x)})[s(299)](f,10).fill({color:x,alpha:c})[s(325)]({width:1,color:0})}[a(313)](t,x){const e=a,s=new M({interactive:!0});s[e(271)][e(241)](0,-this.boxHeight);const c=this[e(332)](this[e(315)],x),f=new N({text:t+"x",style:{fontSize:16,fill:0},scale:.5,anchor:.5});f[e(271)].x=this[e(334)]/2,f.position.y=this[e(340)]/2,s[e(308)](c),s[e(308)](f),this[e(247)][e(308)](s),this[e(274)][e(306)](s);let h;s.on("mouseover",()=>{const n=e;h=this.createRoundedRect(this[n(315)],0,!0),s.addChild(h)}),s.on(e(291),()=>{const n=e;h&&(s[n(275)](h),h?.[n(356)](),h=null)}),s.on(e(237),()=>{const n=e;console[n(283)](n(303)),this[n(293)]&&this[n(293)]()}),this[e(315)]++,this[e(315)]===4&&(this[e(315)]=1),this[e(274)].forEach((n,i)=>{const r=e,o=i*this[r(340)];if(this.recordArr[r(242)]>1){const l=this[r(274)][i],p=l[r(275)](l.children[0]),u=p[r(261)];p[r(356)](),this.recordArr[i].addChild(this.createRoundedRect(i,Number(u))),this[r(274)][i][r(336)][r(253)]()}new D(n[r(271)],this[r(341)]).to({y:o},200)[r(265)]()});const _=n=>{const i=e;this[i(341)][i(300)](n.lastTime)};if(this.recordArr[e(242)]>this[e(282)]){const n=this[e(274)].pop();new D(n[e(271)],this[e(341)]).to({alpha:0},150).onComplete(()=>{const i=e;this[i(344)].ticker[i(280)](_),this[i(247)][i(275)](n),n?.[i(356)]()})[e(265)]()}this[e(344)][e(320)].add(_)}}const b=k;(function(d,t){const x=k,e=d();for(;;)try{if(parseInt(x(323))/1*(-parseInt(x(310))/2)+-parseInt(x(319))/3*(-parseInt(x(307))/4)+parseInt(x(335))/5*(parseInt(x(306))/6)+parseInt(x(331))/7+parseInt(x(295))/8*(-parseInt(x(325))/9)+-parseInt(x(334))/10+-parseInt(x(322))/11*(-parseInt(x(336))/12)===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(A,776209);function k(d,t){const x=A();return k=function(e,s){return e=e-286,x[e]},k(d,t)}function A(){const d=["path"," 开始游戏 ","text","container","仅允许填写字符 L 或 R","/10","air","pins","#1e1e1e","init","value","get","help","test","3635384ptZlsP","setBallConfig","false","createPinsAndResultBoxes","AppPlinko","length","input","请输入 10 位路径，仅允许 L 或 R","off","input-wrap","createBall","7593096tcqTzQ","4OGGgsh","start-btn","当前 ","1174sLCGFM","disabled","slice","例如：LRRLLRLR","hint-row","button","2 秒允许点击一次","span","div","3477858QWRiNK","relative","toUpperCase","1148972owmJRf","1879MhgTvz","path-help","27MDGRKg","counter","w-full flex justify-center items-center","input-control","label","投球路径（10 位，仅 L/R）","9525978lfruZS","radius","ballConfig","11699170tbyGop","5rkzYSN","72QeScZJ"];return A=function(){return d},A()}const e0={class:b(320)},s0={class:b(320)},i0={class:b(304)},a0=["aria-invalid"],n0={class:b(314)},r0={key:0,id:b(324),class:b(293)},o0={class:b(326)},c0={class:b(327)},f0=[b(311)],l0=10,h0=W({__name:b(299),setup(d){const t=b,x=L(null);let e;const s=L(""),c=F(()=>/^[LR]{10}$/[t(294)](s[t(291)])),f=L(!1),h=F(()=>{const i=t;return s[i(291)]?/[^LR]/[i(294)](s[i(291)])?i(341):s[i(291)].length!==10?i(309)+s[i(291)][i(300)]+" 位，请填写 10 位":"":i(302)});function _(i){const r=t,o=i.target,l=o.value[r(321)]().replace(/[^LR]/g,"")[r(312)](0,10);s[r(291)]=l}async function n(){const i=t;if(!c[i(291)]||f[i(291)]||!e)return;f[i(291)]=!0;const r=s.value.split("");e[i(305)](r),setTimeout(()=>f.value=!1,400)}return O(async()=>{const i=t,r=U[i(292)](10);x[i(291)]&&(e=new t0(x.value),await e[i(290)](300,276,i(289)),await e[i(298)](r?.[i(288)]??{rows:12,startY:24,gap:24,pinRadius:4}),e[i(296)](r?.[i(333)][i(332)],r?.[i(333)][i(287)]))}),(i,r)=>{const o=t;return z(),S(o(318),e0,[m(o(318),s0,[m("div",{ref_key:o(340),ref:x,class:o(340)},null,512)]),m(o(318),i0,[r[1]||(r[1]=m(o(329),{class:o(329),for:o(337)},o(330),-1)),Q(m(o(301),{id:o(337),class:H([o(328),{invalid:!c.value&&s.value}]),type:o(339),"onUpdate:modelValue":r[0]||(r[0]=l=>s[o(291)]=l),maxlength:l0,placeholder:o(313),onInput:_,autocomplete:o(303),autocapitalize:"characters",spellcheck:o(297),"aria-describedby":o(324),"aria-invalid":!c[o(291)]},null,42,a0),[[q,s[o(291)]]]),m("div",n0,[h[o(291)]?(z(),S("span",r0,Y(h[o(291)]),1)):K("",!0),m(o(317),o0,Y(s[o(291)].length)+o(286),1)])]),m(o(318),c0,[m(o(315),{class:o(308),disabled:!c[o(291)]||f.value,onClick:n,title:o(316)},o(338),8,f0)])])}}});var E=P;(function(d,t){for(var x=P,e=d();;)try{var s=parseInt(x(246))/1*(parseInt(x(249))/2)+parseInt(x(248))/3+-parseInt(x(254))/4*(parseInt(x(245))/5)+parseInt(x(253))/6+-parseInt(x(251))/7*(-parseInt(x(252))/8)+-parseInt(x(247))/9+-parseInt(x(244))/10;if(s===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(B,350683);function B(){var d=["9390hDlJvq","37540mYLjQW","__scopeId","413jXVeuy","60504dKIWuT","3057882kCFmah","4HhEYfl","data-v-cb23dd70","3500130kUPxDo","632065ZeLFxv","19iczjDd","4396635ozIWcT"];return B=function(){return d},B()}function P(d,t){var x=B();return P=function(e,s){e=e-243;var c=x[e];return c},P(d,t)}const b0=V(h0,[[E(250),E(243)]]);export{b0 as A,V as _};
