import{d as U,r as L,c as q,o as V,a as E,b as S,e as m,w as X,v as Z,n as H,f as W,t as F}from"./vendor-q4_JwtHI.js";import{A as Y,G as g,C as M,B as T}from"./vendor-pixi-js-CqIIzDVx.js";import{_ as u,m as j}from"./vendor-matter-js-BQ72DKUX.js";import{G as z,T as N}from"./vendor-tweenjs-BtMkXI7v.js";const D=(_,t)=>{const x=_.__vccOpts||_;for(const[e,s]of t)x[e]=s;return x};function C(_,t){const x=I();return C=function(e,s){return e=e-393,x[e]},C(_,t)}function I(){const _=["9461700JYlRCW","80540xqxGxy","108INEnHW","322rxybtC","437oiEBdq","reduce","1619674ZgjdlQ","2665256UDERkS","679098HQzdgH","1901961LaebDj","map"];return I=function(){return _},I()}(function(_,t){const x=C,e=_();for(;;)try{if(parseInt(x(402))/1*(-parseInt(x(401))/2)+-parseInt(x(396))/3+-parseInt(x(400))/4*(-parseInt(x(399))/5)+parseInt(x(395))/6+-parseInt(x(393))/7+-parseInt(x(394))/8+parseInt(x(398))/9===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(I,330516);function J(){const _=r=>{const d=C,l=r[d(403)]((i,a)=>i+a,0);return r[d(397)](i=>i/l)},t={low:{_10:[8.9,3,1.4,1.1,1,.5,1,1.1,1.4,3,8.9]},middle:{_10:[22,5,2,1.4,.6,.4,.6,1.4,2,5,22]},high:{_10:[76,10,3,.9,.3,.2,.3,.9,3,10,76]}},x={_10:_([1,10,45,120,210,252,210,120,45,10,1])};return{resText:t,probabilities:x,colors:{_10:[1357990,440020,3718648,5195493,9133302,59135,9133302,5195493,3718648,440020,1357990]},shadows:{_10:[1020292,561586,959977,4405450,7153881,42956,7153881,4405450,959977,561586,1020292]}}}const K=new Map([[10,{pins:{rows:12,startY:24,gap:24,pinRadius:4},ballConfig:{radius:6,air:.12}}]]),c=v;(function(_,t){const x=v,e=_();for(;;)try{if(-parseInt(x(186))/1+-parseInt(x(209))/2*(-parseInt(x(221))/3)+parseInt(x(219))/4+parseInt(x(233))/5+-parseInt(x(141))/6*(-parseInt(x(136))/7)+-parseInt(x(114))/8*(-parseInt(x(132))/9)+-parseInt(x(223))/10*(parseInt(x(192))/11)===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(R,713635);function v(_,t){const x=R();return v=function(e,s){return e=e-108,x[e]},v(_,t)}const{colors:O,shadows:Q,resText:G,probabilities:$}=J();class x0{id=1;canvas;[c(222)];engine;[c(218)];[c(170)];width;height;[c(214)];[c(116)]=new Map;[c(129)]={};[c(169)]=u[c(211)][c(147)](!0);[c(159)]={ballRadius:4,frictionAir:.05};[c(157)];[c(231)];[c(204)];constructor(t){const x=c;this[x(127)]=document[x(121)]("canvas"),t.appendChild(this[x(127)]),this[x(222)]=new Y,this[x(190)]=u[x(196)][x(165)](),this[x(218)]=this[x(190)].world,this[x(170)]=u[x(215)][x(165)](),this[x(190)].positionIterations=10,this[x(190)].velocityIterations=10,this.engine[x(124)][x(179)]=2}async[c(123)](t,x,e){const s=c;this.width=t,this[s(151)]=x,this.canvas.style[s(195)]=t+"px",this[s(127)].style.height=x+"px",this[s(181)].position[s(109)](this.width-45,this[s(151)]/4),this[s(222)][s(227)][s(208)](this[s(181)]),await this[s(222)][s(123)]({canvas:this[s(127)],width:t,height:x,background:e,antialias:!0,resolution:window[s(144)]}),u[s(215)][s(145)](this[s(170)],this[s(190)]),this.listenCollisions()}[c(117)](t,x){const e=c;this[e(159)]={ballRadius:t,frictionAir:x}}[c(210)](t){const x=c,e=this[x(195)]/2,s=[e,e+this[x(129)][x(113)]],r=[e,e-this[x(129)][x(113)]],d=t[0],l=Math.floor(Math[x(146)]()*2),f=d==="R"?s[l]:r[l],i=u[x(163)][x(216)](f,0,this[x(159)][x(143)],{id:this.id++,label:x(160),mass:1,restitution:0,friction:0,frictionAir:this[x(159)][x(194)],collisionFilter:{group:this.nonCollideGroup}}),a=new g()[x(216)](0,0,this[x(159)][x(143)])[x(158)](16733525);a[x(193)][x(109)](i[x(193)].x,i.position.y),u[x(156)][x(220)](this[x(218)],i),this.app.stage[x(208)](a);const n=()=>{const h=x;a.position[h(109)](i.position.x,i.position.y),a[h(110)]=i[h(122)];const p=(this[h(129)][h(173)]-2)*this[h(129)].gap+this[h(129)][h(113)]/2;i.position.y>p&&(this[h(138)](i[h(193)].x),j.Composite.remove(this[h(218)],i),a[h(135)](),this[h(222)][h(119)][h(171)](n),this.ballParamsMap.delete(i.id))};this[x(222)][x(119)].add(n);const o={path:t,start:l,fir:d};this[x(116)][x(109)](i.id,o)}[c(137)]=[];pinsGfx=[];createPinsAndResultBoxes(t){const x=c;this[x(205)](),this.pinParams=t;const{rows:e,startY:s,gap:r,pinRadius:d}=t;for(let l=2;l<e;l++){const f=l+1,i=(f-1)*r,a=this.width/2-i/2;for(let n=0;n<f;n++){const o=a+n*r,h=s+(l-2)*r,p=u[x(163)][x(216)](o,h,d,{isStatic:!0,label:x(131)+(l-1)+"-"+n}),b=new g()[x(216)](0,0,d)[x(158)](16777215);b.x=o,b.y=h,this[x(137)][x(152)](p),this[x(115)].push(b),u[x(156)].add(this[x(218)],p),this.app[x(227)][x(208)](b)}}this[x(130)]()}[c(201)](t){const x=c,{bodyA:e,bodyB:s}=t,r=e.label===x(160)?e:s[x(112)]===x(160)?s:null,d=e[x(112)][x(188)]("row-")?e.label:s[x(112)][x(188)](x(131))?s[x(112)]:null,l=e[x(112)][x(188)]("row-")?e:s.label[x(188)](x(131))?s:null;if(l&&this.pinAnimal(l),!r||!d)return;const f=r.id,i=Number.parseInt(d[x(185)]("-")[1],10),a=this[x(116)][x(118)](f);if(!a)return;const{path:n,start:o,fir:h}=a;if(!n||!h||Number[x(154)](i))return;if(i===1){const b=h==="R"?o===0?1:-1:o===0?-1.2:1.2;this.addXPower(r,b);return}const p=n[i-1];p==="R"?this.addXPower(r,1.2):p==="L"&&this[x(202)](r,-1.2)}[c(172)]=new Map;[c(207)]=c(191);async[c(130)](){const t=c,x=this[t(129)][t(113)],e=x-2,s=this[t(129)].rows-1,r=s-2,d=this[t(129)][t(187)]+r*x+x/2,l=this[t(195)]/2-s*x/2,f=this[t(129)][t(173)]-2;for(let i=0;i<s;i++){const a=l+i*x+1,n=new M({label:t(183)+i,interactive:!0}),o=new g()[t(133)](0,0,e,14,2).fill({color:this[t(189)](f,i)}),h=new g()[t(133)](0,0,e,16,2)[t(158)]({color:this[t(166)](f,i)});h.position[t(109)](0,0);const p=this[t(224)](this.level,f,i)||0,b=new T({label:"res-text-"+i,text:p+`
x`,style:{fontSize:14,fill:t(206),align:t(153)},anchor:.5});b.position[t(109)](e/2,8),b[t(142)][t(109)](.4),n[t(208)](h),n[t(208)](o),n.addChild(b),n[t(193)].set(a,d),this[t(172)].set(i,n),this[t(222)][t(227)][t(208)](n),n.on(t(174),()=>{const y=t;this[y(157)](!0,this[y(182)](this[y(129)].rows-2,i).toFixed(4))}),n.on("mouseout",()=>{this[t(157)](!1)})}}clearPinsAndRes(){const t=c;for(const x of this[t(137)])u[t(156)][t(171)](this.world,x);for(const x of this[t(115)])x[t(135)]();this[t(137)]=[],this[t(115)]=[],this[t(172)].forEach(x=>{x[t(135)]()}),this[t(172)][t(232)](),this[t(155)]=0}addXPower(t,x){const e=c;u[e(211)][e(175)](t,{x,y:0})}[c(189)](t,x){return O["_"+t][x]}[c(166)](t,x){return Q["_"+t][x]}[c(224)](t,x,e){return G[t]["_"+x][e]}getProbability(t,x){return $["_"+t][x]*100}setPopCb(t){this.popCallback=t}[c(198)](t){this.recordCallback=t}[c(149)](t){const x=c;if(this[x(207)]=t,!!G[t])for(const[s,r]of this[x(172)]){const d=r.getChildByLabel(x(150)+s),l=G[t]["_"+(this.pinParams.rows-2)][s];d[x(199)]=l+`
x`}}[c(138)](t){const x=c;for(const[e,s]of this[x(172)][x(111)]()){const r=s.x,d=s.x+s[x(195)];t>=r&&t<=d&&(this[x(167)](s),console[x(200)](x(139)+e))}}[c(225)](){const t=c;u[t(168)].on(this[t(190)],"collisionStart",x=>{const e=t;for(const s of x.pairs)this[e(201)](s)})}pinAnimal(t){const x=c,e=new g;e[x(193)][x(109)](t[x(193)].x,t[x(193)].y),this[x(222)][x(227)][x(208)](e);const s=0,r=10,d=400,l=performance[x(126)](),f=i=>{const a=x,n=i-l,o=Math[a(226)](n/d,1),h=s+(r-s)*o,p=.9*(1-o);e[a(232)]();const b=t[a(178)]??4;e[a(216)](0,0,b*1.2+h)[a(158)]({color:16777215,alpha:p}),o<1?requestAnimationFrame(f):e[a(135)]()};requestAnimationFrame(f)}firstY=0;resBoxAnimal(t){const x=c,e=t[x(193)].y;this[x(155)]||(this[x(155)]=e);const s=4,r=150,d=performance[x(126)](),l=f=>{const i=x,a=f-d,n=Math[i(226)](a/r,1);t.position.y=e+s*n,n<1?requestAnimationFrame(l):t[i(193)].y=this[i(155)]};requestAnimationFrame(l)}[c(176)]=new z;[c(148)]=[];[c(184)]=4;[c(203)]=26;boxHeight=26;[c(181)]=new M;[c(229)]=0;setGameRes(t){const x=c;this[x(204)]=t}[c(164)](t,x,e){const s=c,r=e?.6:1,d=[{x:0,y:this[s(120)],radius:0},{x:this[s(203)],y:this.boxHeight,radius:0},{x:this[s(203)],y:0,radius:0},{x:0,y:0,radius:0}];return t===0?(d[2][s(125)]=4,d[3][s(125)]=4):t===this[s(184)]-1&&(d[0][s(125)]=4,d[1].radius=4),new g({label:String(x)})[s(213)](d,10)[s(158)]({color:x,alpha:r})[s(128)]({width:1,color:0})}addRecord(t,x){const e=c,s=new M({interactive:!0});s[e(193)][e(109)](0,-this[e(120)]);const r=this[e(164)](this.recordCount,x),d=new T({text:t+"x",style:{fontSize:16,fill:0},scale:.5,anchor:.5});d[e(193)].x=this[e(203)]/2,d.position.y=this[e(120)]/2,s.addChild(r),s[e(208)](d),this.stackBox.addChild(s),this[e(148)][e(134)](s);let l;s.on("mouseover",()=>{l=this[e(164)](this.recordCount,0,!0),s.addChild(l)}),s.on(e(140),()=>{l&&(s.removeChild(l),l?.destroy(),l=null)}),s.on(e(162),()=>{const i=e;console[i(200)]("显示游戏结果事件"),this[i(231)]&&this[i(231)]()}),this[e(229)]++,this.recordCount===4&&(this[e(229)]=1),this[e(148)][e(197)]((i,a)=>{const n=e,o=a*this[n(120)];if(this[n(148)].length>1){const h=this.recordArr[a],p=h[n(230)](h.children[0]),b=p[n(112)];p.destroy(),this[n(148)][a][n(208)](this[n(164)](a,Number(b))),this.recordArr[a][n(177)][n(217)]()}new N(i[n(193)],this.tweenGroup).to({y:o},200)[n(108)]()});const f=i=>{const a=e;this[a(176)][a(161)](i[a(212)])};if(this[e(148)].length>this.maxCount){const i=this[e(148)][e(228)]();new N(i[e(193)],this[e(176)]).to({alpha:0},150)[e(180)](()=>{const a=e;this[a(222)][a(119)][a(171)](f),this.stackBox[a(230)](i),i?.[a(135)]()})[e(108)]()}this.app[e(119)].add(f)}}function R(){const _=["nonCollideGroup","runner","remove","resBoxMap","rows","mouseover","setVelocity","tweenGroup","children","circleRadius","timeScale","onComplete","stackBox","getProbability","res-","maxCount","split","845777MZoSvE","startY","startsWith","getBg","engine","low","209igLRyp","position","frictionAir","width","Engine","forEach","setRecordClickCb","text","log","dealCollisions","addXPower","boxWidth","gameRes","clearPinsAndRes","#000","level","addChild","112870FgsEMo","createBall","Body","lastTime","roundShape","tickerFn","Runner","circle","reverse","world","2693472CqqUnN","add","60RaNhCK","app","1362160VvywXE","getText","listenCollisions","min","stage","pop","recordCount","removeChild","recordCallback","clear","6658470dHcCId","start","set","rotation","entries","label","gap","8xUFfxW","pinsGfx","ballParamsMap","setBallConfig","get","ticker","boxHeight","createElement","angle","init","timing","radius","now","canvas","stroke","pinParams","createResultBox","row-","5210253ZqZOcy","roundRect","unshift","destroy","2821JLJriY","pinsMatter","findResultArea","Ball hit result box ","mouseout","6474SgpLPX","scale","ballRadius","devicePixelRatio","run","random","nextGroup","recordArr","setLevel","res-text-","height","push","center","isNaN","firstY","Composite","popCallback","fill","ballConfig","ball","update","click","Bodies","createRoundedRect","create","getShadow","resBoxAnimal","Events"];return R=function(){return _},R()}function k(){const _=["AppPlinko","replace","ballConfig","456DUTdHp","请输入 10 位路径，仅允许 L 或 R","12475GweUJw","relative","target","input","5313920ULnCdl"," 开始游戏 ","radius","container","input-wrap","pins","1838kLZZoG","false","div","807XWcoee","label","button","/10","#1e1e1e","940814KKZdsM","disabled","air","text","192432ecqIsN","length","counter","off","characters","1039068PlnWzq","init","8rBBWVU","start-btn","span","例如：LRRLLRLR","createBall","input-control","仅允许填写字符 L 或 R","aria-invalid","slice","value","path","test","投球路径（10 位，仅 L/R）","4070601FITshn","path-help"];return k=function(){return _},k()}const w=B;(function(_,t){const x=B,e=_();for(;;)try{if(parseInt(x(290))/1+parseInt(x(278))/2*(-parseInt(x(281))/3)+parseInt(x(295))/4+parseInt(x(317))/5*(-parseInt(x(315))/6)+parseInt(x(286))/7+-parseInt(x(297))/8*(parseInt(x(310))/9)+parseInt(x(272))/10===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(k,228873);const t0={class:w(318)},e0={class:w(318)},s0={class:w(276)},a0=[w(304)],i0={class:"hint-row"},n0={key:0,id:w(311),class:"help"},c0={class:w(292)},o0={class:"w-full flex justify-center items-center"},r0=[w(287)];function B(_,t){const x=k();return B=function(e,s){return e=e-271,x[e]},B(_,t)}const d0=10,l0=U({__name:w(312),setup(_){const t=w,x=L(null);let e;const s=L(""),r=q(()=>/^[LR]{10}$/[t(308)](s[t(306)])),d=L(!1),l=q(()=>{const a=t;return s[a(306)]?/[^LR]/[a(308)](s[a(306)])?a(303):s[a(306)][a(291)]!==10?"当前 "+s[a(306)][a(291)]+" 位，请填写 10 位":"":a(316)});function f(a){const n=t,o=a[n(319)],h=o[n(306)].toUpperCase()[n(313)](/[^LR]/g,"")[n(305)](0,10);s[n(306)]=h}async function i(){const a=t;if(!r.value||d[a(306)]||!e)return;d[a(306)]=!0;const n=s[a(306)].split("");e[a(301)](n),setTimeout(()=>d.value=!1,400)}return V(async()=>{const a=t,n=K.get(10);x.value&&(e=new x0(x[a(306)]),await e[a(296)](300,276,a(285)),await e.createPinsAndResultBoxes(n?.[a(277)]??{rows:12,startY:24,gap:24,pinRadius:4}),e.setBallConfig(n?.[a(314)][a(274)],n?.[a(314)][a(288)]))}),(a,n)=>{const o=t;return S(),E(o(280),t0,[m(o(280),e0,[m("div",{ref_key:"container",ref:x,class:o(275)},null,512)]),m(o(280),s0,[n[1]||(n[1]=m(o(282),{class:"label",for:o(307)},o(309),-1)),X(m(o(271),{id:o(307),class:H([o(302),{invalid:!r.value&&s[o(306)]}]),type:o(289),"onUpdate:modelValue":n[0]||(n[0]=h=>s[o(306)]=h),maxlength:d0,placeholder:o(300),onInput:f,autocomplete:o(293),autocapitalize:o(294),spellcheck:o(279),"aria-describedby":o(311),"aria-invalid":!r.value},null,42,a0),[[Z,s[o(306)]]]),m(o(280),i0,[l[o(306)]?(S(),E(o(299),n0,F(l[o(306)]),1)):W("",!0),m("span",c0,F(s[o(306)][o(291)])+o(284),1)])]),m(o(280),o0,[m(o(283),{class:o(298),disabled:!r[o(306)]||d.value,onClick:i,title:"2 秒允许点击一次"},o(273),8,r0)])])}}});var h0=A;function A(_,t){var x=P();return A=function(e,s){e=e-316;var r=x[e];return r},A(_,t)}(function(_,t){for(var x=A,e=_();;)try{var s=-parseInt(x(323))/1+parseInt(x(326))/2*(-parseInt(x(322))/3)+-parseInt(x(324))/4+parseInt(x(325))/5*(parseInt(x(319))/6)+parseInt(x(317))/7*(-parseInt(x(320))/8)+parseInt(x(321))/9+parseInt(x(316))/10;if(s===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(P,938054);function P(){var _=["32335990veMRfA","3838744VlhhSq","__scopeId","24xElCBC","24lencjd","9663102FURjhu","82056jIkOaZ","1098069TVSGPV","337304cZqqDq","417015cSLmXX","64KspwUE"];return P=function(){return _},P()}const u0=D(l0,[[h0(318),"data-v-cb23dd70"]]);export{u0 as A,D as _};
