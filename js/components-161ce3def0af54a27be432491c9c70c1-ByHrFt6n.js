import{d as D,r as P,c as E,o as O,a as F,b as T,e as m,w as Y,v as H,n as W,f as X,t as q}from"./vendor-BK4J4gOZ.js";import{A as Q,G as g,C as M,B as N}from"./vendor-pixi-js-DOyIQKv_.js";import{_ as w,m as L}from"./vendor-matter-js-Botu7bl-.js";import{G as U,T as V}from"./vendor-tweenjs-BtMkXI7v.js";const z=(h,t)=>{const x=h.__vccOpts||h;for(const[e,s]of t)x[e]=s;return x};(function(h,t){const x=y,e=h();for(;;)try{if(-parseInt(x(341))/1*(parseInt(x(337))/2)+parseInt(x(347))/3+-parseInt(x(348))/4+-parseInt(x(345))/5+parseInt(x(343))/6+-parseInt(x(338))/7*(-parseInt(x(339))/8)+parseInt(x(342))/9*(-parseInt(x(346))/10)===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(C,927942);function y(h,t){const x=C();return y=function(e,s){return e=e-337,x[e]},y(h,t)}function C(){const h=["2gVeSOi","7tqTSYz","13014680daZTFE","map","219756IDifMk","9hSffKm","130716dAdOqy","reduce","2591150GFkXPb","12806230OynDXf","3959100umFEqz","87080LhGSsX"];return C=function(){return h},C()}function K(){const h=r=>{const d=y,l=r[d(344)]((i,a)=>i+a,0);return r[d(340)](i=>i/l)},t={low:{_10:[8.9,3,1.4,1.1,1,.5,1,1.1,1.4,3,8.9]},middle:{_10:[22,5,2,1.4,.6,.4,.6,1.4,2,5,22]},high:{_10:[76,10,3,.9,.3,.2,.3,.9,3,10,76]}},x={_10:h([1,10,45,120,210,252,210,120,45,10,1])};return{resText:t,probabilities:x,colors:{_10:[1357990,440020,3718648,5195493,9133302,59135,9133302,5195493,3718648,440020,1357990]},shadows:{_10:[1020292,561586,959977,4405450,7153881,42956,7153881,4405450,959977,561586,1020292]}}}const j=new Map([[10,{pins:{rows:12,startY:24,gap:24,pinRadius:4},ballConfig:{radius:6,air:.12}}]]),o=v;(function(h,t){const x=v,e=h();for(;;)try{if(parseInt(x(439))/1*(-parseInt(x(462))/2)+parseInt(x(378))/3*(parseInt(x(464))/4)+-parseInt(x(363))/5+-parseInt(x(374))/6+-parseInt(x(442))/7*(-parseInt(x(389))/8)+parseInt(x(416))/9*(parseInt(x(413))/10)+parseInt(x(435))/11===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(R,918873);function R(){const h=["findResultArea","setVelocity","level","run","pairs","width","dealCollisions","ticker","Runner","3722870WppmnI","collisionStart","stage","popCallback","pinsGfx","Ball hit result box ","pinAnimal","destroy","ballRadius","pop","label","2783508xokyLI","tickerFn","rows","row-","782343ZOutHK","split","pinsMatter","roundShape","tweenGroup","addChild","entries","recordArr","ball","engine","velocityIterations","12616GENRww","timing","createResultBox","toFixed","firstY","maxCount","devicePixelRatio","app","start","startsWith","update","Engine","recordCount","init","set","getProbability","roundRect","push","resBoxMap","gap","removeChild","floor","stackBox","ballParamsMap","1384850XkmqBK","circle","listenCollisions","27gONOUJ","stroke","fill","boxWidth","scale","getBg","createElement","addXPower","log","remove","boxHeight","low","getChildByLabel","mouseout","random","length","setPopCb","recordCallback","rotation","25779985ExvWHd","nonCollideGroup","mouseover","res-text-","1EQySNO","isNaN","frictionAir","1071LoBBwp","Bodies","parseInt","pinParams","add","#000","clear","Body","angle","create","setRecordClickCb","getText","addRecord","createPinsAndResultBoxes","positionIterations","Events","ballConfig","Composite","res-","min","2267574WiQpWx","world","4LhhIgr","unshift","children","now","height","nextGroup","getShadow","style","resBoxAnimal","lastTime","position","createRoundedRect","radius","appendChild","canvas","circleRadius","setLevel","gameRes","forEach","runner"];return R=function(){return h},R()}function v(h,t){const x=R();return v=function(e,s){return e=e-361,x[e]},v(h,t)}const{colors:Z,shadows:J,resText:S,probabilities:$}=K();class x0{id=1;[o(478)];[o(396)];[o(387)];[o(463)];[o(483)];width;height;[o(375)];[o(412)]=new Map;pinParams={};[o(436)]=w[o(449)][o(469)](!0);[o(458)]={ballRadius:4,frictionAir:.05};[o(366)];recordCallback;gameRes;constructor(t){const x=o;this[x(478)]=document[x(422)](x(478)),t[x(477)](this[x(478)]),this[x(396)]=new Q,this[x(387)]=w[x(400)][x(451)](),this[x(463)]=this.engine[x(463)],this[x(483)]=w[x(362)][x(451)](),this[x(387)][x(456)]=10,this[x(387)][x(388)]=10,this[x(387)][x(390)].timeScale=2}async init(t,x,e){const s=o;this[s(489)]=t,this[s(468)]=x,this[s(478)][s(471)][s(489)]=t+"px",this[s(478)][s(471)][s(468)]=x+"px",this[s(411)][s(474)][s(403)](this.width-45,this[s(468)]/4),this.app[s(365)][s(383)](this.stackBox),await this[s(396)][s(402)]({canvas:this[s(478)],width:t,height:x,background:e,antialias:!0,resolution:window[s(395)]}),w[s(362)][s(487)](this[s(483)],this[s(387)]),this.listenCollisions()}setBallConfig(t,x){const e=o;this[e(458)]={ballRadius:t,frictionAir:x}}createBall(t){const x=o,e=this[x(489)]/2,s=[e,e+this.pinParams[x(408)]],r=[e,e-this[x(445)][x(408)]],d=t[0],l=Math[x(410)](Math[x(430)]()*2),_=d==="R"?s[l]:r[l],i=L.Bodies[x(414)](_,0,this[x(458)][x(371)],{id:this.id++,label:"ball",mass:1,restitution:0,friction:0,frictionAir:this[x(458)][x(441)],collisionFilter:{group:this[x(436)]}}),a=new g()[x(414)](0,0,this.ballConfig[x(371)])[x(418)](16733525);a.position.set(i[x(474)].x,i[x(474)].y),w[x(459)][x(446)](this[x(463)],i),this[x(396)][x(365)][x(383)](a);const n=()=>{const f=x;a.position[f(403)](i[f(474)].x,i.position.y),a[f(434)]=i[f(450)];const p=(this[f(445)][f(376)]-2)*this[f(445)][f(408)]+this[f(445)].gap/2;i.position.y>p&&(this.findResultArea(i[f(474)].x),L.Composite.remove(this[f(463)],i),a.destroy(),this[f(396)].ticker[f(425)](n),this[f(412)].delete(i.id))};this[x(396)].ticker[x(446)](n);const c={path:t,start:l,fir:d};this[x(412)][x(403)](i.id,c)}pinsMatter=[];[o(367)]=[];[o(455)](t){const x=o;this.clearPinsAndRes(),this[x(445)]=t;const{rows:e,startY:s,gap:r,pinRadius:d}=t;for(let l=2;l<e;l++){const _=l+1,i=(_-1)*r,a=this[x(489)]/2-i/2;for(let n=0;n<_;n++){const c=a+n*r,f=s+(l-2)*r,p=w[x(443)][x(414)](c,f,d,{isStatic:!0,label:x(377)+(l-1)+"-"+n}),b=new g()[x(414)](0,0,d)[x(418)](16777215);b.x=c,b.y=f,this.pinsMatter.push(p),this[x(367)][x(406)](b),w[x(459)][x(446)](this.world,p),this[x(396)][x(365)][x(383)](b)}}this[x(391)]()}[o(490)](t){const x=o,{bodyA:e,bodyB:s}=t,r=e[x(373)]===x(386)?e:s[x(373)]==="ball"?s:null,d=e.label.startsWith(x(377))?e[x(373)]:s[x(373)][x(398)](x(377))?s[x(373)]:null,l=e[x(373)][x(398)](x(377))?e:s[x(373)][x(398)](x(377))?s:null;if(l&&this[x(369)](l),!r||!d)return;const _=r.id,i=Number[x(444)](d[x(379)]("-")[1],10),a=this[x(412)].get(_);if(!a)return;const{path:n,start:c,fir:f}=a;if(!n||!f||Number[x(440)](i))return;if(i===1){const b=f==="R"?c===0?1:-1:c===0?-1.2:1.2;this[x(423)](r,b);return}const p=n[i-1];p==="R"?this[x(423)](r,1.2):p==="L"&&this.addXPower(r,-1.2)}[o(407)]=new Map;[o(486)]=o(427);async[o(391)](){const t=o,x=this[t(445)].gap,e=x-2,s=this[t(445)].rows-1,r=s-2,d=this[t(445)].startY+r*x+x/2,l=this[t(489)]/2-s*x/2,_=this.pinParams[t(376)]-2;for(let i=0;i<s;i++){const a=l+i*x+1,n=new M({label:t(460)+i,interactive:!0}),c=new g()[t(405)](0,0,e,14,2).fill({color:this.getBg(_,i)}),f=new g()[t(405)](0,0,e,16,2).fill({color:this[t(470)](_,i)});f[t(474)].set(0,0);const p=this[t(453)](this[t(486)],_,i)||0,b=new N({label:t(438)+i,text:p+`
x`,style:{fontSize:14,fill:t(447),align:"center"},anchor:.5});b[t(474)][t(403)](e/2,8),b[t(420)].set(.4),n[t(383)](f),n[t(383)](c),n[t(383)](b),n.position[t(403)](a,d),this[t(407)][t(403)](i,n),this[t(396)][t(365)][t(383)](n),n.on(t(437),()=>{const I=t;this[I(366)](!0,this[I(404)](this[I(445)][I(376)]-2,i)[I(392)](4))}),n.on(t(429),()=>{this.popCallback(!1)})}}clearPinsAndRes(){const t=o;for(const x of this.pinsMatter)L.Composite[t(425)](this[t(463)],x);for(const x of this[t(367)])x[t(370)]();this[t(380)]=[],this[t(367)]=[],this[t(407)][t(482)](x=>{x[t(370)]()}),this[t(407)][t(448)](),this[t(393)]=0}[o(423)](t,x){const e=o;w[e(449)][e(485)](t,{x,y:0})}[o(421)](t,x){return Z["_"+t][x]}getShadow(t,x){return J["_"+t][x]}getText(t,x,e){return S[t]["_"+x][e]}[o(404)](t,x){return $["_"+t][x]*100}[o(432)](t){this.popCallback=t}[o(452)](t){const x=o;this[x(433)]=t}[o(480)](t){const x=o;if(this[x(486)]=t,!!S[t])for(const[s,r]of this[x(407)]){const d=r[x(428)](x(438)+s),l=S[t]["_"+(this[x(445)][x(376)]-2)][s];d.text=l+`
x`}}[o(484)](t){const x=o;for(const[e,s]of this[x(407)][x(384)]()){const r=s.x,d=s.x+s[x(489)];t>=r&&t<=d&&(this[x(472)](s),console[x(424)](x(368)+e))}}[o(415)](){const t=o;w[t(457)].on(this[t(387)],t(364),x=>{const e=t;for(const s of x[e(488)])this.dealCollisions(s)})}[o(369)](t){const x=o,e=new g;e[x(474)][x(403)](t[x(474)].x,t[x(474)].y),this[x(396)].stage.addChild(e);const s=0,r=10,d=400,l=performance[x(467)](),_=i=>{const a=x,n=i-l,c=Math[a(461)](n/d,1),f=s+(r-s)*c,p=.9*(1-c);e.clear();const b=t[a(479)]??4;e[a(414)](0,0,b*1.2+f)[a(418)]({color:16777215,alpha:p}),c<1?requestAnimationFrame(_):e.destroy()};requestAnimationFrame(_)}firstY=0;[o(472)](t){const x=o,e=t[x(474)].y;this[x(393)]||(this[x(393)]=e);const s=4,r=150,d=performance[x(467)](),l=_=>{const i=x,a=_-d,n=Math.min(a/r,1);t[i(474)].y=e+s*n,n<1?requestAnimationFrame(l):t[i(474)].y=this[i(393)]};requestAnimationFrame(l)}[o(382)]=new U;[o(385)]=[];maxCount=4;[o(419)]=26;[o(426)]=26;stackBox=new M;recordCount=0;setGameRes(t){const x=o;this[x(481)]=t}[o(475)](t,x,e){const s=o,r=e?.6:1,d=[{x:0,y:this[s(426)],radius:0},{x:this[s(419)],y:this[s(426)],radius:0},{x:this[s(419)],y:0,radius:0},{x:0,y:0,radius:0}];return t===0?(d[2][s(476)]=4,d[3][s(476)]=4):t===this[s(394)]-1&&(d[0][s(476)]=4,d[1].radius=4),new g({label:String(x)})[s(381)](d,10).fill({color:x,alpha:r})[s(417)]({width:1,color:0})}[o(454)](t,x){const e=o,s=new M({interactive:!0});s.position[e(403)](0,-this[e(426)]);const r=this.createRoundedRect(this[e(401)],x),d=new N({text:t+"x",style:{fontSize:16,fill:0},scale:.5,anchor:.5});d[e(474)].x=this.boxWidth/2,d.position.y=this[e(426)]/2,s.addChild(r),s.addChild(d),this[e(411)][e(383)](s),this[e(385)][e(465)](s);let l;s.on(e(437),()=>{const i=e;l=this[i(475)](this[i(401)],0,!0),s[i(383)](l)}),s.on(e(429),()=>{const i=e;l&&(s[i(409)](l),l?.[i(370)](),l=null)}),s.on("click",()=>{const i=e;console[i(424)]("显示游戏结果事件"),this[i(433)]&&this[i(433)]()}),this.recordCount++,this[e(401)]===4&&(this.recordCount=1),this[e(385)][e(482)]((i,a)=>{const n=e,c=a*this[n(426)];if(this[n(385)][n(431)]>1){const f=this[n(385)][a],p=f[n(409)](f.children[0]),b=p[n(373)];p[n(370)](),this[n(385)][a][n(383)](this.createRoundedRect(a,Number(b))),this[n(385)][a][n(466)].reverse()}new V(i[n(474)],this[n(382)]).to({y:c},200)[n(397)]()});const _=i=>{const a=e;this[a(382)][a(399)](i[a(473)])};if(this[e(385)][e(431)]>this.maxCount){const i=this[e(385)][e(372)]();new V(i[e(474)],this[e(382)]).to({alpha:0},150).onComplete(()=>{const a=e;this[a(396)][a(361)][a(425)](_),this[a(411)].removeChild(i),i?.[a(370)]()})[e(397)]()}this.app.ticker[e(446)](_)}}const u=k;(function(h,t){const x=k,e=h();for(;;)try{if(-parseInt(x(412))/1*(-parseInt(x(401))/2)+parseInt(x(372))/3*(parseInt(x(396))/4)+-parseInt(x(375))/5*(parseInt(x(362))/6)+-parseInt(x(406))/7*(-parseInt(x(377))/8)+-parseInt(x(405))/9*(-parseInt(x(408))/10)+parseInt(x(391))/11*(parseInt(x(374))/12)+parseInt(x(394))/13*(-parseInt(x(389))/14)===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(B,869920);function k(h,t){const x=B();return k=function(e,s){return e=e-360,x[e]},k(h,t)}const t0={class:u(368)},e0={class:u(368)},s0={class:u(361)},a0=[u(380)],i0={class:u(365)},n0={key:0,id:"path-help",class:u(403)},o0={class:u(400)},c0={class:"w-full flex justify-center items-center"},r0=[u(376)],d0=10;function B(){const h=["div"," 位，请填写 10 位","212196ybcnLc","#1e1e1e","12HQbvAC","9695TpGKji","disabled","752UvZfGU","button","container","aria-invalid","path","characters","AppPlinko","target","span","split","投球路径（10 位，仅 L/R）","off","112CeYBwV","/10","12452165uxHfai","radius","label","5016570VqlIDw","2 秒允许点击一次","12NcqRRS","test","length","ballConfig","counter","8346SmGiRj","input","help","createBall","999423raHKjH","47033INxCOd","value","130llISVA","当前 ","请输入 10 位路径，仅允许 L 或 R","createPinsAndResultBoxes","291DXxgUw","path-help","input-wrap","2094QDYQMo"," 开始游戏 ","toUpperCase","hint-row","false","init","relative","input-control"];return B=function(){return h},B()}const l0=D({__name:u(383),setup(h){const t=u,x=P(null);let e;const s=P(""),r=E(()=>/^[LR]{10}$/.test(s[t(407)])),d=P(!1),l=E(()=>{const a=t;return s.value?/[^LR]/[a(397)](s[a(407)])?"仅允许填写字符 L 或 R":s[a(407)].length!==10?a(409)+s[a(407)][a(398)]+a(371):"":a(410)});function _(a){const n=t,c=a[n(384)],f=c.value[n(364)]().replace(/[^LR]/g,"").slice(0,10);s[n(407)]=f}async function i(){const a=t;if(!r.value||d.value||!e)return;d[a(407)]=!0;const n=s.value[a(386)]("");e[a(404)](n),setTimeout(()=>d.value=!1,400)}return O(async()=>{const a=t,n=j.get(10);x[a(407)]&&(e=new x0(x[a(407)]),await e[a(367)](300,276,a(373)),await e[a(411)](n?.pins??{rows:12,startY:24,gap:24,pinRadius:4}),e.setBallConfig(n?.[a(399)][a(392)],n?.ballConfig.air))}),(a,n)=>{const c=t;return T(),F(c(370),t0,[m(c(370),e0,[m(c(370),{ref_key:c(379),ref:x,class:"container"},null,512)]),m("div",s0,[n[1]||(n[1]=m(c(393),{class:c(393),for:c(381)},c(387),-1)),Y(m(c(402),{id:c(381),class:W([c(369),{invalid:!r[c(407)]&&s.value}]),type:"text","onUpdate:modelValue":n[0]||(n[0]=f=>s[c(407)]=f),maxlength:d0,placeholder:"例如：LRRLLRLR",onInput:_,autocomplete:c(388),autocapitalize:c(382),spellcheck:c(366),"aria-describedby":c(360),"aria-invalid":!r[c(407)]},null,42,a0),[[H,s[c(407)]]]),m(c(370),i0,[l.value?(T(),F(c(385),n0,q(l[c(407)]),1)):X("",!0),m(c(385),o0,q(s[c(407)][c(398)])+c(390),1)])]),m(c(370),c0,[m(c(378),{class:"start-btn",disabled:!r[c(407)]||d.value,onClick:i,title:c(395)},c(363),8,r0)])])}}});(function(h,t){for(var x=G,e=h();;)try{var s=-parseInt(x(147))/1*(-parseInt(x(151))/2)+parseInt(x(148))/3+parseInt(x(143))/4+parseInt(x(149))/5+-parseInt(x(150))/6*(parseInt(x(152))/7)+parseInt(x(144))/8*(parseInt(x(145))/9)+-parseInt(x(146))/10;if(s===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(A,322132);function A(){var h=["10328eUGrVD","9xwDaRk","2243590qfHEau","53362SQxSXe","1336023pstBPD","2799595BtkKuq","367722mLesjB","2FyAytP","70MZgVJP","397792VEFiMQ"];return A=function(){return h},A()}function G(h,t){var x=A();return G=function(e,s){e=e-143;var r=x[e];return r},G(h,t)}const b0=z(l0,[["__scopeId","data-v-cb23dd70"]]);export{b0 as A,z as _};
