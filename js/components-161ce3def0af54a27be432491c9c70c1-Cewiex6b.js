import{d as z,r as P,c as F,o as q,a as N,b as S,e as m,w as O,v as V,n as H,f as U,t as T}from"./vendor-q4_JwtHI.js";import{A as Z,G as w,C as L,B as Y}from"./vendor-pixi-js-CqIIzDVx.js";import{_ as b,m as E}from"./vendor-matter-js-BQ72DKUX.js";import{G as D,T as W}from"./vendor-tweenjs-BtMkXI7v.js";const J=(h,t)=>{const x=h.__vccOpts||h;for(const[e,s]of t)x[e]=s;return x};(function(h,t){const x=I,e=h();for(;;)try{if(parseInt(x(112))/1*(-parseInt(x(116))/2)+-parseInt(x(117))/3+-parseInt(x(113))/4+-parseInt(x(119))/5*(-parseInt(x(120))/6)+-parseInt(x(118))/7+-parseInt(x(121))/8+parseInt(x(111))/9===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(y,389428);function X(){const h=c=>{const f=I,d=c[f(115)]((a,i)=>a+i,0);return c[f(114)](a=>a/d)},t={low:{_10:[8.9,3,1.4,1.1,1,.5,1,1.1,1.4,3,8.9]},middle:{_10:[22,5,2,1.4,.6,.4,.6,1.4,2,5,22]},high:{_10:[76,10,3,.9,.3,.2,.3,.9,3,10,76]}},x={_10:h([1,10,45,120,210,252,210,120,45,10,1])};return{resText:t,probabilities:x,colors:{_10:[1357990,440020,3718648,5195493,9133302,59135,9133302,5195493,3718648,440020,1357990]},shadows:{_10:[1020292,561586,959977,4405450,7153881,42956,7153881,4405450,959977,561586,1020292]}}}const j=new Map([[10,{pins:{rows:12,startY:24,gap:24,pinRadius:4},ballConfig:{radius:6,air:.12}}]]);function I(h,t){const x=y();return I=function(e,s){return e=e-111,x[e]},I(h,t)}function y(){const h=["map","reduce","356456gPZYFu","859719PMQEgx","3547376XqWQMM","3435975luoKiU","6frZLrk","2954656RgQbFN","13069494acyyRG","1PeKFkI","1636128kGYSFB"];return y=function(){return h},y()}const n=R;(function(h,t){const x=R,e=h();for(;;)try{if(-parseInt(x(271))/1+-parseInt(x(286))/2+parseInt(x(316))/3*(-parseInt(x(236))/4)+parseInt(x(303))/5+parseInt(x(277))/6*(parseInt(x(339))/7)+-parseInt(x(280))/8*(parseInt(x(246))/9)+-parseInt(x(298))/10*(-parseInt(x(245))/11)===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(C,201366);function C(){const h=["velocityIterations","recordArr","maxCount","4DMcvJZ","start","createRoundedRect","timing","startY","Bodies","Engine","style","recordCount","11ZOfsen","9GovgMF","#000","unshift","split","canvas","init","Composite","engine","dealCollisions","createResultBox","addChild","radius","row-","pinsGfx","isNaN","angle","label","destroy","pinAnimal","run","nextGroup","显示游戏结果事件","removeChild","findResultArea","setPopCb","320895cmbgsR","set","Body","ballRadius","gameRes","setBallConfig","726gMklBV","fill","toFixed","492376EmBtSJ","length","addXPower","log","position","runner","571128BgJSWL","random","frictionAir","min","mouseover","popCallback","appendChild","stackBox","resBoxAnimal","pinParams","forEach","rows","7171310lzinhy","res-","now","getShadow","text","249170HCbebi","pop","getChildByLabel","rotation","onComplete","collisionStart","gap","center","height","setRecordClickCb","ballConfig","resBoxMap","tickerFn","859461pDAtoe","get","createElement","add","Runner","children","getText","roundShape","setLevel","lastTime","firstY","Ball hit result box ","level","clear","getBg","circle","push","remove","mouseout","boxWidth","ballParamsMap","create","getProbability","22498ejljzj","world","width","tweenGroup","createPinsAndResultBoxes","recordCallback","circleRadius","Events","app","stage","low","pinsMatter","entries","res-text-","click","startsWith","nonCollideGroup","ticker","boxHeight","ball","setGameRes","clearPinsAndRes"];return C=function(){return h},C()}function R(h,t){const x=C();return R=function(e,s){return e=e-217,x[e]},R(h,t)}const{colors:K,shadows:Q,resText:G,probabilities:$}=X();class x0{id=1;[n(250)];app;engine;[n(340)];[n(285)];[n(341)];[n(311)];[n(315)];[n(336)]=new Map;[n(295)]={};nonCollideGroup=b[n(273)][n(266)](!0);[n(313)]={ballRadius:4,frictionAir:.05};[n(291)];recordCallback;[n(275)];constructor(t){const x=n;this[x(250)]=document[x(318)](x(250)),t[x(292)](this[x(250)]),this[x(219)]=new Z,this[x(253)]=b[x(242)][x(337)](),this[x(340)]=this[x(253)][x(340)],this.runner=E.Runner[x(337)](),this[x(253)].positionIterations=10,this[x(253)][x(233)]=10,this[x(253)][x(239)].timeScale=2}async[n(251)](t,x,e){const s=n;this[s(341)]=t,this[s(311)]=x,this[s(250)][s(243)][s(341)]=t+"px",this[s(250)][s(243)][s(311)]=x+"px",this[s(293)][s(284)].set(this[s(341)]-45,this[s(311)]/4),this[s(219)].stage[s(256)](this[s(293)]),await this[s(219)].init({canvas:this[s(250)],width:t,height:x,background:e,antialias:!0,resolution:window.devicePixelRatio}),b[s(320)][s(265)](this[s(285)],this[s(253)]),this.listenCollisions()}[n(276)](t,x){this.ballConfig={ballRadius:t,frictionAir:x}}createBall(t){const x=n,e=this[x(341)]/2,s=[e,e+this[x(295)][x(309)]],c=[e,e-this[x(295)].gap],f=t[0],d=Math.floor(Math[x(287)]()*2),_=f==="R"?s[d]:c[d],a=b[x(241)][x(331)](_,0,this.ballConfig[x(274)],{id:this.id++,label:"ball",mass:1,restitution:0,friction:0,frictionAir:this[x(313)][x(288)],collisionFilter:{group:this[x(227)]}}),i=new w()[x(331)](0,0,this[x(313)][x(274)])[x(278)](16733525);i[x(284)][x(272)](a[x(284)].x,a[x(284)].y),b[x(252)][x(319)](this[x(340)],a),this[x(219)].stage[x(256)](i);const o=()=>{const l=x;i[l(284)][l(272)](a[l(284)].x,a.position.y),i[l(306)]=a[l(261)];const p=(this.pinParams[l(297)]-2)*this[l(295)].gap+this[l(295)][l(309)]/2;a.position.y>p&&(this[l(269)](a.position.x),b[l(252)].remove(this[l(340)],a),i[l(263)](),this[l(219)][l(228)][l(333)](o),this[l(336)].delete(a.id))};this[x(219)][x(228)][x(319)](o);const r={path:t,start:d,fir:f};this[x(336)][x(272)](a.id,r)}[n(222)]=[];pinsGfx=[];[n(343)](t){const x=n;this[x(232)](),this[x(295)]=t;const{rows:e,startY:s,gap:c,pinRadius:f}=t;for(let d=2;d<e;d++){const _=d+1,a=(_-1)*c,i=this[x(341)]/2-a/2;for(let o=0;o<_;o++){const r=i+o*c,l=s+(d-2)*c,p=b[x(241)][x(331)](r,l,f,{isStatic:!0,label:x(258)+(d-1)+"-"+o}),u=new w()[x(331)](0,0,f).fill(16777215);u.x=r,u.y=l,this.pinsMatter[x(332)](p),this[x(259)][x(332)](u),E.Composite[x(319)](this.world,p),this[x(219)][x(220)].addChild(u)}}this[x(255)]()}[n(254)](t){const x=n,{bodyA:e,bodyB:s}=t,c=e.label===x(230)?e:s[x(262)]===x(230)?s:null,f=e.label.startsWith(x(258))?e[x(262)]:s.label[x(226)]("row-")?s.label:null,d=e.label[x(226)](x(258))?e:s[x(262)][x(226)](x(258))?s:null;if(d&&this[x(264)](d),!c||!f)return;const _=c.id,a=Number.parseInt(f[x(249)]("-")[1],10),i=this[x(336)][x(317)](_);if(!i)return;const{path:o,start:r,fir:l}=i;if(!o||!l||Number[x(260)](a))return;if(a===1){const u=l==="R"?r===0?1:-1:r===0?-1.2:1.2;this[x(282)](c,u);return}const p=o[a-1];p==="R"?this.addXPower(c,1.2):p==="L"&&this[x(282)](c,-1.2)}resBoxMap=new Map;level=n(221);async createResultBox(){const t=n,x=this[t(295)][t(309)],e=x-2,s=this.pinParams[t(297)]-1,c=s-2,f=this[t(295)][t(240)]+c*x+x/2,d=this[t(341)]/2-s*x/2,_=this[t(295)][t(297)]-2;for(let a=0;a<s;a++){const i=d+a*x+1,o=new L({label:t(299)+a,interactive:!0}),r=new w().roundRect(0,0,e,14,2)[t(278)]({color:this.getBg(_,a)}),l=new w().roundRect(0,0,e,16,2)[t(278)]({color:this[t(301)](_,a)});l.position.set(0,0);const p=this[t(322)](this[t(328)],_,a)||0,u=new Y({label:t(224)+a,text:p+`
x`,style:{fontSize:14,fill:t(247),align:t(310)},anchor:.5});u.position.set(e/2,8),u.scale.set(.4),o.addChild(l),o[t(256)](r),o.addChild(u),o.position[t(272)](i,f),this[t(314)][t(272)](a,o),this[t(219)][t(220)][t(256)](o),o.on(t(290),()=>{const v=t;this[v(291)](!0,this.getProbability(this[v(295)][v(297)]-2,a)[v(279)](4))}),o.on(t(334),()=>{this[t(291)](!1)})}}[n(232)](){const t=n;for(const x of this[t(222)])b[t(252)].remove(this.world,x);for(const x of this[t(259)])x[t(263)]();this.pinsMatter=[],this[t(259)]=[],this[t(314)][t(296)](x=>{x[t(263)]()}),this.resBoxMap[t(329)](),this[t(326)]=0}[n(282)](t,x){b[n(273)].setVelocity(t,{x,y:0})}[n(330)](t,x){return K["_"+t][x]}[n(301)](t,x){return Q["_"+t][x]}[n(322)](t,x,e){return G[t]["_"+x][e]}[n(338)](t,x){return $["_"+t][x]*100}[n(270)](t){this.popCallback=t}[n(312)](t){const x=n;this[x(344)]=t}[n(324)](t){const x=n;if(this[x(328)]=t,!!G[t])for(const[s,c]of this[x(314)]){const f=c[x(305)](x(224)+s),d=G[t]["_"+(this[x(295)].rows-2)][s];f[x(302)]=d+`
x`}}[n(269)](t){const x=n;for(const[e,s]of this[x(314)][x(223)]()){const c=s.x,f=s.x+s.width;t>=c&&t<=f&&(this[x(294)](s),console[x(283)](x(327)+e))}}listenCollisions(){const t=n;b[t(218)].on(this[t(253)],t(308),x=>{for(const e of x.pairs)this.dealCollisions(e)})}[n(264)](t){const x=n,e=new w;e[x(284)][x(272)](t.position.x,t[x(284)].y),this[x(219)].stage[x(256)](e);const s=0,c=10,f=400,d=performance[x(300)](),_=a=>{const i=x,o=a-d,r=Math[i(289)](o/f,1),l=s+(c-s)*r,p=.9*(1-r);e.clear();const u=t[i(217)]??4;e.circle(0,0,u*1.2+l).fill({color:16777215,alpha:p}),r<1?requestAnimationFrame(_):e[i(263)]()};requestAnimationFrame(_)}firstY=0;[n(294)](t){const x=n,e=t[x(284)].y;this.firstY||(this[x(326)]=e);const s=4,c=150,f=performance[x(300)](),d=_=>{const a=x,i=_-f,o=Math[a(289)](i/c,1);t.position.y=e+s*o,o<1?requestAnimationFrame(d):t.position.y=this[a(326)]};requestAnimationFrame(d)}[n(342)]=new D;[n(234)]=[];[n(235)]=4;[n(335)]=26;[n(229)]=26;[n(293)]=new L;[n(244)]=0;[n(231)](t){const x=n;this[x(275)]=t}[n(238)](t,x,e){const s=n,c=e?.6:1,f=[{x:0,y:this[s(229)],radius:0},{x:this[s(335)],y:this[s(229)],radius:0},{x:this.boxWidth,y:0,radius:0},{x:0,y:0,radius:0}];return t===0?(f[2][s(257)]=4,f[3].radius=4):t===this[s(235)]-1&&(f[0][s(257)]=4,f[1][s(257)]=4),new w({label:String(x)})[s(323)](f,10)[s(278)]({color:x,alpha:c}).stroke({width:1,color:0})}addRecord(t,x){const e=n,s=new L({interactive:!0});s[e(284)][e(272)](0,-this[e(229)]);const c=this[e(238)](this.recordCount,x),f=new Y({text:t+"x",style:{fontSize:16,fill:0},scale:.5,anchor:.5});f[e(284)].x=this[e(335)]/2,f.position.y=this[e(229)]/2,s.addChild(c),s[e(256)](f),this[e(293)][e(256)](s),this.recordArr[e(248)](s);let d;s.on(e(290),()=>{const a=e;d=this[a(238)](this[a(244)],0,!0),s[a(256)](d)}),s.on(e(334),()=>{const a=e;d&&(s.removeChild(d),d?.[a(263)](),d=null)}),s.on(e(225),()=>{const a=e;console[a(283)](a(267)),this[a(344)]&&this[a(344)]()}),this[e(244)]++,this[e(244)]===4&&(this.recordCount=1),this[e(234)].forEach((a,i)=>{const o=e,r=i*this.boxHeight;if(this[o(234)][o(281)]>1){const l=this[o(234)][i],p=l[o(268)](l[o(321)][0]),u=p[o(262)];p[o(263)](),this.recordArr[i][o(256)](this[o(238)](i,Number(u))),this.recordArr[i][o(321)].reverse()}new W(a[o(284)],this[o(342)]).to({y:r},200).start()});const _=a=>{const i=e;this.tweenGroup.update(a[i(325)])};if(this.recordArr[e(281)]>this[e(235)]){const a=this[e(234)][e(304)]();new W(a.position,this[e(342)]).to({alpha:0},150)[e(307)](()=>{const i=e;this[i(219)][i(228)].remove(_),this[i(293)][i(268)](a),a?.destroy()})[e(237)]()}this.app[e(228)].add(_)}}const g=k;function k(h,t){const x=A();return k=function(e,s){return e=e-494,x[e]},k(h,t)}(function(h,t){const x=k,e=h();for(;;)try{if(parseInt(x(519))/1*(parseInt(x(528))/2)+-parseInt(x(522))/3*(-parseInt(x(505))/4)+parseInt(x(500))/5*(parseInt(x(535))/6)+parseInt(x(533))/7+parseInt(x(542))/8+-parseInt(x(498))/9*(-parseInt(x(506))/10)+-parseInt(x(537))/11*(parseInt(x(521))/12)===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(A,184172);const t0={class:g(544)},e0={class:"relative"},s0={class:g(525)},i0=[g(512)],a0={class:"hint-row"},n0={key:0,id:g(501),class:g(538)},o0={class:"counter"},r0={class:g(495)},c0=[g(515)],f0=10;function A(){const h=["radius","text","length","178652ANeuWJ","1363840shorob","path","air","请输入 10 位路径，仅允许 L 或 R","split","span","aria-invalid","input-control","value","disabled","button","characters","get","145433AALsFk","仅允许填写字符 L 或 R","240ewcdMU","6RglgDm","createBall","replace","input-wrap","container","label","2KNvliO","createPinsAndResultBoxes","/10","start-btn","ballConfig","1071553XOvzbT","当前 ","70044tWUATq","init","416999MtNzIy","help","test"," 位，请填写 10 位","投球路径（10 位，仅 L/R）","636672WoILlt","AppPlinko","relative","slice","w-full flex justify-center items-center","div"," 开始游戏 ","9iTOnlV","off","145QiOTZY","path-help"];return A=function(){return h},A()}const l0=z({__name:g(543),setup(h){const t=g,x=P(null);let e;const s=P(""),c=F(()=>/^[LR]{10}$/.test(s[t(514)])),f=P(!1),d=F(()=>{const i=t;return s[i(514)]?/[^LR]/[i(539)](s[i(514)])?i(520):s[i(514)].length!==10?i(534)+s[i(514)][i(504)]+i(540):"":i(509)});function _(i){const o=t,r=i.target,l=r[o(514)].toUpperCase()[o(524)](/[^LR]/g,"")[o(494)](0,10);s[o(514)]=l}async function a(){const i=t;if(!c.value||f[i(514)]||!e)return;f[i(514)]=!0;const o=s.value[i(510)]("");e[i(523)](o),setTimeout(()=>f[i(514)]=!1,400)}return q(async()=>{const i=t,o=j[i(518)](10);x[i(514)]&&(e=new x0(x.value),await e[i(536)](300,276,"#1e1e1e"),await e[i(529)](o?.pins??{rows:12,startY:24,gap:24,pinRadius:4}),e.setBallConfig(o?.[i(532)][i(502)],o?.ballConfig[i(508)]))}),(i,o)=>{const r=t;return S(),N("div",t0,[m(r(496),e0,[m("div",{ref_key:"container",ref:x,class:r(526)},null,512)]),m(r(496),s0,[o[1]||(o[1]=m("label",{class:r(527),for:r(507)},r(541),-1)),O(m("input",{id:r(507),class:H([r(513),{invalid:!c[r(514)]&&s[r(514)]}]),type:r(503),"onUpdate:modelValue":o[0]||(o[0]=l=>s[r(514)]=l),maxlength:f0,placeholder:"例如：LRRLLRLR",onInput:_,autocomplete:r(499),autocapitalize:r(517),spellcheck:"false","aria-describedby":r(501),"aria-invalid":!c[r(514)]},null,42,i0),[[V,s.value]]),m("div",a0,[d[r(514)]?(S(),N(r(511),n0,T(d.value),1)):U("",!0),m("span",o0,T(s.value[r(504)])+r(530),1)])]),m(r(496),r0,[m(r(516),{class:r(531),disabled:!c[r(514)]||f.value,onClick:a,title:"2 秒允许点击一次"},r(497),8,c0)])])}}});var d0=B;function B(h,t){var x=M();return B=function(e,s){e=e-468;var c=x[e];return c},B(h,t)}(function(h,t){for(var x=B,e=h();;)try{var s=-parseInt(x(469))/1+parseInt(x(474))/2+parseInt(x(476))/3*(-parseInt(x(478))/4)+parseInt(x(468))/5+-parseInt(x(471))/6+-parseInt(x(477))/7*(parseInt(x(473))/8)+parseInt(x(470))/9*(parseInt(x(472))/10);if(s===t)break;e.push(e.shift())}catch{e.push(e.shift())}})(M,924066);function M(){var h=["__scopeId","11262lCsmkW","9590NtHLqb","184biFXII","6984935AGMYzw","778428OVKvJv","165843irMnGY","5297346gPUZGM","610BESHSi","5864AwNwaH","2482490ePNLoc"];return M=function(){return h},M()}const b0=J(l0,[[d0(475),"data-v-cb23dd70"]]);export{b0 as A,J as _};
